!function(e){e.ShopsenseEmbeds=e.ShopsenseEmbeds||{},e.ShopsenseEmbeds.EmbedInjector=function(){const e={Skyscraper:"Skyscraper",Banner:"Banner",Leaderboard:"Leaderboard"},t={Skyscraper:{width:"160px",height:"600px"},Banner:{width:"468px",height:"60px"},Leaderboard:{width:"728px",height:"90px"}};return{loadAd:async function(r){if(!r.containerId)throw new Error("containerId must be provided.");if(!r.embedId)throw new Error("embedId must be provided.");if(!r.template)throw new Error("template must be provided.");r.variation=r.variation||e.Skyscraper;const o=r.variation&&t[r.variation]||t.Skyscraper,n=o.width||"auto",a=o.height||"auto",d=`https://ad-example.vercel.app/ads/${r.embedId}/${r.template}/ad`,s=`${d}/index.html`,i=`${d}/assets`;try{const e=document.getElementById(r.containerId);if(!e)throw new Error(`Element with id="${r.containerId}" not found.`);const t=await fetch(s);if(!t.ok)throw new Error("Unable to fetch the ad content.");const o=await t.text(),c=document.createElement("div");c.innerHTML=o;const p=c.querySelectorAll("script"),l=c.querySelectorAll("link"),h=c.querySelectorAll("img"),m=c.querySelectorAll("video");console.log("FOUND",{scripts:p,links:l,images:h,videos:m}),l.forEach((e=>{const t=e.cloneNode(!0),r=t.href.split("/").pop();t.href=`${d}/${r}`,document.head.appendChild(t),e.remove()})),h.forEach((e=>{const t=e.src.split("/").pop();e.src=`${i}/${t}`})),m.forEach((e=>{const t=e.getAttribute("data-src")||e.src.split("/").pop();e.hasAttribute("data-src")?e.setAttribute("data-src",`${i}/${t}`):e.src=`${i}/${t}`,e.controls=!0})),e.innerHTML=c.innerHTML,e.style.width=n,e.style.height=a,e.style.overflow="hidden",p.forEach((e=>{const t=e.cloneNode(!0),r=t.src.split("/").pop();t.src=`${d}/${r}`,document.body.appendChild(t),e.remove()}))}catch(e){console.error("Error loading ad:",e)}},SupportedTemplates:{CuratedProducts:"curated-products-template",Carousel:"carousel-template"},SupportedVariations:e}}()}(window);