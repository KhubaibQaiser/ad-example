(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9535],{61587:function(e,t,r){"use strict";r.d(t,{Y:function(){return N}});var a=r(20567),n=r(85893),s=r(61676),l=r.n(s),o=r(14932);r(80686),r(12647),r(18982);var i=r(86010),u=r(4298),d=r.n(u),c=r(67294),p=r(17931);let f=()=>{let e=!1;return void 0!==window&&void 0!==window.OnetrustActiveGroups&&(e=window.OnetrustActiveGroups.split(",").filter(Boolean).includes("C0004")),e},m=()=>(0,p.yv)()?"https://pubads.g.doubleclick.net/gampad/ads?iu=/122003474/tmtv.web/preroll&description_url=tastemade&tfcd=0&npa=".concat(Number(f()),"&sz=640x360%7C640x480&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&correlator=&vpmute=1&vpa=auto&vpos=preroll"):"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=",v=()=>(0,p.yv)()?"https://pubads.g.doubleclick.net/gampad/ads?iu=/122003474/tmtv.web/postroll&description_url=tastemade&tfcd=0&npa=".concat(Number(f()),"&sz=640x360%7C640x480&min_ad_duration=15000&max_ad_duration=30000&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&correlator=&vpmute=1&vpa=auto&vpos=postroll"):"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator= ",g=(e,t)=>'  <vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">\n                  <vmap:AdBreak timeOffset="start" breakType="linear" breakId="preroll">\n                    <vmap:AdSource id="preroll-ad-1" allowMultipleAds="false" followRedirects="true">\n                      <vmap:AdTagURI templateType="vast3">\n                        <![CDATA[ '.concat(e,' ]]>\n                      </vmap:AdTagURI>\n                    </vmap:AdSource>\n                  </vmap:AdBreak>\n                  \n                  <vmap:AdBreak timeOffset="end" breakType="linear" breakId="postroll">\n                    <vmap:AdSource id="postroll-ad-1" allowMultipleAds="false" followRedirects="true">\n                      <vmap:AdTagURI templateType="vast3">\n                        <![CDATA[ ').concat(t," ]]>\n                      </vmap:AdTagURI>\n                    </vmap:AdSource>\n                  </vmap:AdBreak>\n                </vmap:VMAP>"),h=e=>{let{autoPlayAdBreaks:t,aspectRatio:r,videoWidth:a,videoHeight:n}=e;return{debug:!1,preventLateAdStart:!0,showCountdown:!1,disableAdControls:!1,autoPlayAdBreaks:t,forceNonLinearFullSlot:!0,adsRenderingSettings:{enablePreloading:!0},adsRequest:{linearAdSlotWidth:r&&"1:1"===r?480:a,linearAdSlotHeight:r&&"1:1"===r?360:n}}},b=(e,t)=>{var r,a,n;let s=e.current,l=null==s?void 0:null===(n=s.ima)||void 0===n?void 0:null===(a=n.controller)||void 0===a?void 0:null===(r=a.sdkImpl)||void 0===r?void 0:r.adDisplayContainerInitialized;!s||t||void 0===l||l||s.ima.initializeAdDisplayContainer()};var y=r(70493),w=r(14602);let A=(e,t)=>{var r;let a=null==e?void 0:null===(r=e.current)||void 0===r?void 0:r.el(),n=(0,w.n)(a,t||{threshold:.5});(0,c.useEffect)(()=>{let t=async()=>{try{await (null==r?void 0:r.play())}catch(e){}},r=null==e?void 0:e.current;n&&r&&r.paused()?t():n||!r||r.paused()||r.pause()},[n,e])},k=(e,t)=>{let{hasAds:r}=t,[a,n]=(0,c.useState)(!1),[s,l]=(0,c.useState)(!r);return(0,c.useEffect)(()=>{let t=e&&(null==e?void 0:e.current);if(!t)return;let r=()=>{let e=t.currentTime(),r=t.duration();n(e>0&&e>=Math.floor(r))},a=()=>n(!1);return t.on("timeupdate",r),t.on("loadedmetadata",a),t.on("loadstart",a),()=>{t.off("timeupdate",r),t.off("loadedmetadata",a),t.off("loadstart",a)}},[e]),(0,c.useEffect)(()=>{let t;if(!r)return;let a=e&&(null==e?void 0:e.current);if(!a)return;let n=()=>{l(!0)},s=e=>{(t=e.adsManager).addEventListener("allAdsCompleted",n)};return a.on("ads-manager",s),()=>{a.off("ads-manager",s),t&&t.removeEventListener("allAdsCompleted",n)}},[r,e]),r?s&&a:a};r(24091);var _=r(64487),T=r(85215),x=r(56149);let C=["rounded-lg","overflow-hidden"],E={slots:[{slotID:x.BL,mediaType:"video"},{slotID:x.CB,mediaType:"video"}],timeout:2e3},S=e=>{let{canLoadAds:t,placeholderRef:r,autoplayDelay:n,autoplay:s,muted:l,loop:i,rounded:u,aspectRatio:d,poster:p,sources:f=[],tracks:b=[],controlBar:y,onVideoError:w,onVideoPlaying:A,onVideoEnded:k}=e,S=(0,c.useRef)(null),R=(0,c.useRef)(null),[P,j]=(0,c.useState)(!1),[B,I]=(0,c.useState)(),D=(0,c.useCallback)(e=>{window.apstag.fetchBids(E,e||(e=>I(e||[])))},[]),L=(0,c.useCallback)(e=>{var t,r;let a=null==e?void 0:e.find(e=>e.slotID===x.BL),n=null==e?void 0:e.find(e=>e.slotID===x.CB),s=m(),l=v();return a&&a.qsParams&&(s=null!==(t=(0,x.Ac)(s,"cust_params",a.qsParams))&&void 0!==t?t:s),n&&n.qsParams&&(l=null!==(r=(0,x.Ac)(l,"cust_params",n.qsParams))&&void 0!==r?r:l),g(s,l)},[]),N=(0,c.useCallback)((e,t)=>{let{requestAds:r=!1}=t,a=async(t,n)=>{let s=!1;try{n&&e.ima&&e.ima.requestAds&&(e.ima.requestAds(),s=!0),e.muted(t),await e.play(),e.setAttribute("autoplay","true"),e.setAttribute("muted",t?"true":"false"),r&&e.pause()}catch(e){!t&&e instanceof DOMException&&"NotAllowedError"===e.name&&a(!0,!s)}};R.current=setTimeout(()=>void a(!!l,r),n)},[n,l]);return(0,c.useEffect)(()=>{let e=async()=>{try{let{ready:e}=await (0,x.PT)();e?D():I([])}catch(e){I([]),(0,_.Tb)(e)}};t&&e()},[t,D]),(0,c.useEffect)(()=>{if(void 0!==t&&(!t||B)){if(r.current&&!S.current){let e=document.createElement("video-js");e.classList.add("vjs-big-play-centered"),u&&e.classList.add(...C),e.setAttribute("crossOrigin","anonymous"),r.current.append(e);let n=(0,T.Z)(e,(0,a._)({bigPlayButton:!0,controls:!0,fluid:!0,playsinline:!0},{aspectRatio:d,poster:p,sources:f,tracks:b,controlBar:y,loop:i}));S.current=n,n.ready(()=>{j(!0),s&&N(n,{requestAds:!1})}),t&&n.ima((0,o._)((0,a._)({},h({aspectRatio:d,autoPlayAdBreaks:!!s,videoHeight:e.clientHeight,videoWidth:e.clientWidth})),{adsResponse:L(B)}))}else{let e=S.current;if(!e)return;let r=C.every(t=>e.hasClass(t));if(!r&&u)for(let t of C)e.addClass(t);else if(r&&!u)for(let t of C)e.removeClass(t);p&&p!==e.poster()&&e.poster(p),d&&d!==e.aspectRatio()&&e.aspectRatio(d),i&&i!==e.loop()&&e.loop(i);let a=!1;for(let{id:t}of b)if(t&&(a=!!e.remoteTextTracks().getTrackById(t)))break;if(a){let t=e.remoteTextTracks();for(let r=0;r<t.length;r++){let a=t[r];e.removeRemoteTextTrack(a)}for(let t of b)e.addRemoteTextTrack(t,!0)}let n=new Set(f.map(e=>{let{src:t}=e;return t}));e.currentSources().some(e=>!n.has(e.src))&&(e.pause(),R.current&&clearTimeout(R.current),e.ima&&e.ima.setContentWithAdTag?e.ima.setContentWithAdTag(f):e.src(f),N(e,{requestAds:t}))}}},[B,t,D,L,d,p,f,b,y,r,s,u,i,N]),(0,c.useEffect)(()=>{if(!P)return;let e=S.current;if(e)return A&&e.on("playing",A),k&&e.on("ended",k),w&&e.on("error",t=>{w(t),e.reset()}),()=>{var e,t,r;w&&(null==S||null===(e=S.current)||void 0===e||e.off("error",w)),A&&(null===(t=S.current)||void 0===t||t.off("playing",A)),k&&(null===(r=S.current)||void 0===r||r.off("ended",k))}},[w,A,k,P]),(0,c.useEffect)(()=>{let e=S.current;return()=>{e&&!e.isDisposed()&&(e.dispose(),S.current=null)}},[]),P?S:null};var R=r(97475);let P=(e,t)=>{let{aspectRatio:r,maxWidth:a,videoWidth:n}=t,s=[];return n&&s.push(n),a&&s.push(a),(0,R.yG)(e,{aspectRatio:r,quality:50,priority:!0,width:s.length>0?Math.min(...s):void 0})},j=e=>{let{posterImageSrc:t,maxPosterImageWidth:r,width:a,aspectRatio:n="16:9"}=e,[s,l]=(0,c.useState)(t&&P(t,{aspectRatio:n,maxWidth:r,videoWidth:a}));return(0,c.useEffect)(()=>{t&&l(P(t,{aspectRatio:n,maxWidth:r,videoWidth:a}))},[t,n,r,a]),s},B=e=>{let{autoplayDelay:t,aspectRatio:r="16:9",autoplay:s=!0,bigPlayButton:l,containerClassName:u,muted:p=!0,posterImageSrc:f,maxPosterImageWidth:m,sources:v,tracks:g,rounded:h=!1,loop:w=!1,playOnSight:_=!1,onSkipVideo:T,onVideoError:x,onVideoPlaying:C,onVideoEnded:E,ContainerProps:R,width:P,EndContentComponent:B}=e,[I,D]=(0,c.useState)(!1),[L,N]=(0,c.useState)(!1),[q,z]=(0,c.useState)();(0,c.useEffect)(()=>{(I||L)&&z(I&&!L)},[I,L]);let M=(0,c.useRef)(null),W=(0,y.d)(),O=j({posterImageSrc:f,maxPosterImageWidth:m,width:P,aspectRatio:r}),U=S({canLoadAds:q,placeholderRef:M,autoplayDelay:t,bigPlayButton:l,autoplay:s,muted:p,poster:O,sources:v,tracks:g,aspectRatio:r,rounded:h,loop:w,onVideoError:x,onVideoPlaying:C,onVideoEnded:E}),F=k(U,{hasAds:!0});A(_?U:null);let G=!!(U&&U.current);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d(),{onError:()=>N(!0),onReady:()=>D(!0),src:"//imasdk.googleapis.com/js/sdkloader/ima3.js"}),(0,n.jsxs)("div",(0,o._)((0,a._)({className:(0,i.Z)(u,"relative inline w-full"),"data-vjs-player":!0,onClick:U&&!W?()=>b(U,!!s):void 0,onKeyDown:e=>{U&&"Enter"===e.key&&b(U,!!s)},onTouchEnd:U&&W?()=>b(U,!!s):void 0,role:"button",tabIndex:0},R),{children:[U&&T&&(0,n.jsx)("button",{"aria-label":"skip video",className:"skip-button",onClick:()=>T(U.current),type:"button",children:"Skip"}),!G&&(0,n.jsx)("img",{alt:"","aria-hidden":!0,src:O}),(0,n.jsx)("div",{className:G?"":"hidden",ref:M})]})),F&&B&&(0,n.jsx)("div",{className:"absolute top-0 z-[2] h-full w-full bg-black",children:B})]})},I=["rounded-lg","overflow-hidden"],D=e=>{let{placeholderRef:t,autoplayDelay:r,autoplay:n,muted:s,loop:l,rounded:o,aspectRatio:i,poster:u,sources:d=[],tracks:p=[],controlBar:f,onVideoError:m,onVideoPlaying:v,onVideoEnded:g}=e,h=(0,c.useRef)(null),b=(0,c.useRef)(null),[y,w]=(0,c.useState)(!1),A=(0,c.useCallback)(e=>{let t=async r=>{try{e.muted(r),await e.play(),e.setAttribute("autoplay","true"),e.setAttribute("muted",r?"true":"false")}catch(e){!r&&e instanceof DOMException&&"NotAllowedError"===e.name&&t(!0)}};b.current=setTimeout(()=>void t(!!s),r)},[r,s]);return(0,c.useEffect)(()=>{if(t.current&&!h.current){let e=document.createElement("video-js");e.classList.add("vjs-big-play-centered"),o&&e.classList.add(...I),e.setAttribute("crossOrigin","anonymous"),t.current.append(e);let r=(0,T.Z)(e,(0,a._)({bigPlayButton:!0,controls:!0,fluid:!0,playsinline:!0},{aspectRatio:i,poster:u,sources:d,tracks:p,controlBar:f,loop:l}));h.current=r,r.ready(()=>{w(!0),n&&A(r)})}else{let e=h.current;if(!e)return;let t=I.every(t=>e.hasClass(t));if(!t&&o)for(let t of I)e.addClass(t);else if(t&&!o)for(let t of I)e.removeClass(t);u&&u!==e.poster()&&e.poster(u),i&&i!==e.aspectRatio()&&e.aspectRatio(i),l&&l!==e.loop()&&e.loop(l);let r=!1;for(let{id:t}of p)if(t&&(r=!!e.remoteTextTracks().getTrackById(t)))break;if(r){let t=e.remoteTextTracks();for(let r=0;r<t.length;r++){let a=t[r];e.removeRemoteTextTrack(a)}for(let t of p)e.addRemoteTextTrack(t,!0)}let a=new Set(d.map(e=>{let{src:t}=e;return t}));e.currentSources().some(e=>!a.has(e.src))&&(e.pause(),b.current&&clearTimeout(b.current),e.src(d),A(e))}},[i,u,d,p,f,t,n,o,l,A]),(0,c.useEffect)(()=>{if(!y)return;let e=h.current;if(e)return v&&e.on("playing",v),g&&e.on("ended",g),m&&e.on("error",t=>{m(t),e.reset()}),()=>{var e,t,r;m&&(null==h||null===(e=h.current)||void 0===e||e.off("error",m)),v&&(null===(t=h.current)||void 0===t||t.off("playing",v)),g&&(null===(r=h.current)||void 0===r||r.off("ended",g))}},[m,v,g,y]),(0,c.useEffect)(()=>{let e=h.current;return()=>{e&&!e.isDisposed()&&(e.dispose(),h.current=null)}},[]),y?h:null},L=e=>{let{autoplayDelay:t,aspectRatio:r="16:9",autoplay:s=!0,bigPlayButton:l,containerClassName:u,muted:d=!0,posterImageSrc:p,maxPosterImageWidth:f,sources:m,tracks:v,rounded:g=!1,loop:h=!1,playOnSight:b=!1,onSkipVideo:y,onVideoError:w,onVideoPlaying:_,onVideoEnded:T,ContainerProps:x,width:C,EndContentComponent:E}=e,S=(0,c.useRef)(null),R=j({posterImageSrc:p,maxPosterImageWidth:f,width:C,aspectRatio:r}),P=D({placeholderRef:S,autoplayDelay:t,bigPlayButton:l,autoplay:s,muted:d,poster:R,sources:m,tracks:v,aspectRatio:r,rounded:g,loop:h,onVideoError:w,onVideoPlaying:_,onVideoEnded:T}),B=k(P,{hasAds:!1});return A(b?P:null),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",(0,o._)((0,a._)({className:(0,i.Z)(u,"relative inline w-full"),"data-vjs-player":!0},x),{children:[P&&y&&(0,n.jsx)("button",{"aria-label":"skip video",className:"skip-button",onClick:()=>y(P.current),type:"button",children:"Skip"}),(0,n.jsx)("div",{ref:S})]})),B&&E&&(0,n.jsx)("div",{className:"absolute top-0 z-[2] h-full w-full bg-black",children:E})]})},N=e=>e.adsEnabled?(0,n.jsx)(B,(0,a._)({containerClassName:l().videoJsContainer},e)):(0,n.jsx)(L,(0,a._)({containerClassName:l().videoJsContainer},e))},97475:function(e,t,r){"use strict";r.d(t,{LK:function(){return n},yG:function(){return o}});var a=r(25675);function n(e){let t=new FileReader;return new Promise(r=>{t.readAsDataURL(e),t.addEventListener("load",function(){"string"==typeof t.result?r(function(e){let t=new Image,r=new Promise(e=>{t.addEventListener("load",()=>{let r=t.naturalWidth,a=t.naturalHeight;e({width:r,height:a})}),t.addEventListener("error",t=>{var r;e({error:null!==(r=t.message)&&void 0!==r?r:"The image could not be loaded.",context:t})})});return t.src=e,r}(t.result)):r({error:"could not read image",context:t.result})})})}let s={"16:9":1920,"9:16":1080,"1:1":1080},l={"16:9":1080,"9:16":1920,"1:1":1080},o=(e,t)=>{var r,n;if(!e)return"";let{aspectRatio:o,quality:i=75,priority:u=!1}=t,d=t.width||s[o]||1920,{props:c}=(0,a.unstable_getImgProps)({alt:"",quality:i,priority:u,src:e,width:d,height:l[o]||1080});return null!==(n=null===(r=c.srcSet)||void 0===r?void 0:r.split(" ")[0])&&void 0!==n?n:c.src}},14602:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});var a=r(67294);let n=(e,t)=>{let[r,n]=(0,a.useState)(!1),s=e=>{let[t]=e;n(t.isIntersecting)},l=(0,a.useMemo)(()=>t,[t]);return(0,a.useEffect)(()=>{let t=new IntersectionObserver(s,l);return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[e,l]),r}},56149:function(e,t,r){"use strict";r.d(t,{Ac:function(){return i},BL:function(){return s},CB:function(){return l},PT:function(){return o}});var a=r(64487),n=r(17931);let s="preroll",l="postroll",o=()=>{if(n.yG||n.yg)return Promise.resolve({ready:!1});if(window.apstag)return Promise.resolve({ready:!0});let e=new Promise(e=>setTimeout(()=>e({ready:!1,reason:"Timeout while initiating APS"}),500)),t=new Promise(e=>{let t=document.createElement("script");t.innerHTML='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:\n        function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function()\n        {},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A\n        .async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}\n        ("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");',document.body.append(t),window.apstag.init({pubID:"c49a13f1-5b55-4f1f-8197-dc51a3b90411",adServer:"googletag",bidTimeout:2e3,videoAdServer:"DFP"},()=>e({ready:!0}))});return Promise.race([t,e])},i=(e,t,r)=>{try{let a=new URL(e),n=a.searchParams.get(t);if(n){let e=r.startsWith("&")?r:"&"+r;e=n+e,a.searchParams.set(t,e)}else a.searchParams.append(t,r);return a.toString()}catch(e){return(0,a.Tb)(e),null}}},61676:function(e){e.exports={videoJsContainer:"videojs_videoJsContainer___Yp4K"}},25893:function(){}}]);