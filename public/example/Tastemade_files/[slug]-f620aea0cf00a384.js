(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4408],{34871:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes/[slug]",function(){return a(3488)}])},32277:function(e,t){"use strict";t.Z={src:"/_next/static/media/no-image-available.3a0eed8b.svg",height:219,width:389,blurWidth:0,blurHeight:0}},80019:function(e,t){"use strict";t.Z={src:"/_next/static/media/tm-logo-full.815f7cb2.svg",height:23,width:180,blurWidth:0,blurHeight:0}},22626:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var i=a(85893),l=a(86010);a(67294);var n=a(42630),r=a(9419);let s=(e,t)=>e?{green:"text-white bg-green-500",yellow:"text-black bg-yellow-500",red:"text-white bg-red-600","red-v2":"text-white bg-red-v2-600",purple:"text-white bg-purple-500","purple-home":"text-white bg-purple-home",blue:"text-white bg-blue-500","blue-travel":"text-white bg-blue-travel",black:"text-white bg-black",gray:"text-white bg-gray-600"}:t?{green:"text-green-500 bg-transparent",yellow:"text-black bg-transparent",red:"text-red-600 bg-transparent","red-v2":"text-red-v2-600 bg-transparent",purple:"text-purple-500 bg-transparent","purple-home":"text-purple-home bg-transparent",blue:"text-blue-500 bg-transparent","blue-travel":"text-blue-travel bg-transparent",black:"text-black bg-transparent",gray:"text-gray-600 bg-transparent"}:{green:"text-green-500 bg-green-200",yellow:"text-black bg-yellow-200",red:"text-red-600 bg-red-200","red-v2":"text-red-v2-600 bg-red-v2-200",purple:"text-purple-500 bg-purple-200","purple-home":"text-purple-home bg-purple-200",blue:"text-blue-500 bg-blue-200","blue-travel":"text-blue-travel bg-blue-200",black:"text-black bg-gray-200",gray:"text-gray-600 bg-gray-200"},o=(e,t)=>"yellow"===t?"black":e?"white":"red"===t||"red-v2"===t?"red-dark":"blue-travel"===t?"blue":"purple-home"===t?"purple":t,c=e=>{let{color:t="green",solid:a=!1,count:c,icon:d,layoutClassName:u,text:m,close:p,transparent:x=!1}=e;return(0,i.jsxs)("div",{className:(0,l.Z)("inline-grid h-fit auto-cols-auto grid-flow-col grid-rows-1 flex-nowrap items-center gap-1 rounded-full py-0.5 text-a-sm",d?"pl-2 pr-3":"px-3",s(a,x)[t],u),children:[d&&(0,i.jsx)(r.J,{color:o(a,t),icon:d,size:"md"}),(0,i.jsx)("span",{className:"truncate",children:m}),c&&(0,i.jsx)("span",{className:"ml-1 font-semibold",children:c}),p&&(0,i.jsx)(n.h,{"aria-label":"remove ".concat(m),color:o(a,t),icon:"times",onClick:p,size:"md"})]})}},44511:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=a(85893),l=a(77768),n=a(86010);a(67294);let r=e=>(0,n.Z)("cursor-pointer","xs"===e.size?"text-xs":"text-base","right"===e.position?"ml-2 lg:ml-3":"mr-2 lg:mr-3"),s=e=>{let{disabled:t,LabelProps:a,name:s,onChange:o,value:c,layoutClassName:d}=e,{text:u,position:m="left",subtext:p}=a||{};return(0,i.jsxs)(l.r.Group,{as:"div",className:(0,n.Z)("flex items-center",d),children:[a&&u&&"left"===m&&(0,i.jsxs)(l.r.Label,{as:"span",className:r(a),children:[u,p&&(0,i.jsx)("span",{className:"block text-xs",children:p})]}),(0,i.jsx)(l.r,{checked:c,className:(0,n.Z)(c?"bg-yellow disabled:bg-yellow-200":"bg-gray-200 disabled:bg-gray-100",t?"pointer-events-none":"pointer-events-auto","focus:ring-indigo-500 relative inline-flex h-5 w-10 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2"),disabled:t,name:s,onChange:e=>void o(e),children:(0,i.jsx)("span",{"aria-hidden":"true",className:(0,n.Z)(c?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),a&&u&&"right"===m&&(0,i.jsxs)(l.r.Label,{as:"span",className:r(a),children:[u,p&&(0,i.jsx)("span",{className:"block text-xs",children:p})]})]})}},74741:function(e,t,a){"use strict";a.d(t,{l:function(){return v}});var i=a(20567),l=a(14932),n=a(85893);a(60439),a(52946),a(19360),a(7025),a(56613),a(56376),a(69611);var r=a(86010),s=a(67294),o=a(99304),c=a(2261),d=a(70493),u=a(21789),m=a.n(u),p=a(9419);let x=e=>{let{direction:t="left",dark:a=!1,disabled:i,onClick:l}=e;return(0,n.jsx)("button",{"aria-label":"navigate to ".concat("left"===t?"previous":"next"," item"),disabled:i,onClick:l,type:"button",children:(0,n.jsx)(p.J,{color:i?"gray":a?"white":"black",icon:"left"===t?"chevron-left":"chevron-right",size:"md"})})},h=(e,t)=>"boolean"==typeof e?(0,l._)((0,i._)({},t),{enabled:e}):e?(0,i._)({},t,e):t||!1,f=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return(0,l._)((0,i._)({loop:!1,slidesPerView:"auto",slidesPerGroup:1,spaceBetween:0,autoHeight:!1,centeredSlides:!1,direction:"horizontal",scrollbar:!1,speed:300,slidesOffsetAfter:void 0,slidesOffsetBefore:void 0,breakpoints:void 0},a),{grabCursor:null!=a&&!!a.freeMode||null===(e=null==a?void 0:a.grabCursor)||void 0===e||e,a11y:(0,l._)((0,i._)({},a.a11y),{enabled:!0,id:n.a11yId}),autoplay:null!==(t=a.autoplay)&&void 0!==t&&t,pagination:h(null==a?void 0:a.pagination,{enabled:!1,type:"bullets",clickable:!0,bulletClass:"hero-carousel-pagination-bullet",bulletActiveClass:"hero-carousel-pagination-bullet-active",modifierClass:"hero-carousel-pagination-".concat(n.dotsPosition,"-")}),freeMode:h(null==a?void 0:a.freeMode,{enabled:n.isMobile,momentumRatio:.75,momentumVelocityRatio:.75}),navigation:h(null==a?void 0:a.navigation,{enabled:!n.isMobile,disabledClass:"opacity-30",prevEl:null,nextEl:null})})},g=e=>"boolean"==typeof e?e:!!e&&("enabled"in e&&void 0!==e.enabled?e.enabled:!!e),v=e=>{let{SwiperOptions:t,PreContentComponent:a,layoutClassName:u,swiperClassName:p,fullWidthCards:h,dark:v,dotsPosition:b="bottom",hideArrows:j=!1,children:y,a11yId:w}=e,N=(0,s.useRef)(),[k,_]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),z=(0,d.d)(),Z=f(t,{isMobile:z,a11yId:w,dotsPosition:b}),R=g(Z.navigation)&&!j;return(0,n.jsxs)("div",{className:(0,r.Z)(m().carouselContainer,"relative flex min-h-0 w-full min-w-0 max-w-full items-center justify-start space-x-2 lg:space-x-4",u),children:[R&&(0,n.jsx)(x,{dark:v,direction:"left",disabled:k,onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.slidePrev()}}),a,(0,n.jsx)(c.tq,(0,l._)((0,i._)({},Z),{className:p,keyboard:!0,modules:[o.pt,o.s5,o.W_,o.tl,o.Rv,o.N1],onBeforeInit:e=>{N.current=e,_(e.isBeginning),S(e.isEnd)},onSlideChange:e=>{_(e.isBeginning),S(e.isEnd)},children:s.Children.map(y,e=>(0,n.jsx)(c.o5,{className:h?"w-full":"!w-auto",children:e}))})),R&&(0,n.jsx)(x,{dark:v,direction:"right",disabled:C,onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.slideNext()}})]})}},80869:function(e,t,a){"use strict";a.d(t,{Y:function(){return s}});var i=a(85893),l=a(75131),n=a(86010);a(67294);var r=a(73153);let s=e=>{let{option:{value:t,label:a,helpText:s},onMouseEnter:o,onMouseLeave:c,disabled:d,status:u,reverse:m,ariaLabel:p}=e,x=(0,r.x)({disabled:d,status:u}),h=(0,i.jsx)(l.E.Option,{className:(0,n.Z)("flex items-center justify-start outline-none",x.disabled?"hover:cursor-default":"hover:cursor-pointer",m&&"flex-row-reverse"),disabled:d,onMouseEnter:o,onMouseLeave:c,value:t,children:e=>{let{checked:t,active:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:(0,n.Z)("flex h-5 w-5 items-center justify-center rounded-full border",!x.disabled&&r&&"shadow-ring-blue",!x.disabled&&!r&&"hover:shadow-ring-gray",x.disabled?"border-gray-400":"error"===x.status?" border-red-600 ":"success"===x.status?" border-green-500":t?" border-black":"border-gray-500"),children:(0,i.jsx)("div",{className:(0,n.Z)("h-3 w-3 rounded-full",t&&(x.disabled?"bg-gray-400":"error"===x.status?"bg-red-600":"success"===x.status?"bg-green-500":"bg-black"))})}),(0,i.jsxs)(l.E.Label,{"aria-label":p||"string"==typeof a&&a||void 0,className:(0,n.Z)("relative",{"font-medium tracking-[-.008em]":t},m?"mr-2":"ml-2"),children:[(0,i.jsx)("span",{"aria-hidden":!0,className:"invisible select-none font-medium tracking-[-.008em]",children:a}),(0,i.jsx)("span",{className:(0,n.Z)({"absolute bottom-0 left-0 right-[-2px] top-0 font-graphik":!0,"text-gray-400":x.disabled,"text-black":!x.disabled&&"default"===x.status,"text-red-600":!x.disabled&&"error"===x.status,"text-green-500":!x.disabled&&"success"===x.status}),children:a})]})]})}});return s?(0,i.jsxs)("div",{className:"flex items-center",children:[h,"\xa0",s]}):h}},80887:function(e,t,a){"use strict";a.d(t,{i:function(){return f}});var i=a(20567),l=a(14932),n=a(85893),r=a(86010),s=a(67294),o=a(38213),c=a(99983);let d=e=>{let{layoutClassName:t}=e;return{className:(0,r.Z)("flex gap-1 items-center h-4 text-black",t)}},u=e=>{let{rating:t,count:a}=e;return"".concat(t||0,"/").concat(5," stars from ").concat(a||0," reviews")},m=e=>"lg"===e?1:"md"===e?.9:.7,p=new Path2D("M12.7724 4.50228L14.577 8.32582C14.7025 8.59175 14.9452 8.77601 15.2258 8.81859L19.2612 9.43177C19.9681 9.53926 20.2501 10.4473 19.7388 10.9684L16.8188 13.9446C16.6159 14.1515 16.5231 14.4499 16.5712 14.742L17.2604 18.9445C17.3812 19.6806 16.6423 20.2417 16.0102 19.8945L12.401 17.9105C12.15 17.7726 11.85 17.7726 11.599 17.9105L7.9898 19.8945C7.35768 20.2421 6.61875 19.6806 6.73957 18.9445L7.42877 14.742C7.47683 14.4499 7.38404 14.1515 7.18112 13.9446L4.26114 10.9684C3.74983 10.447 4.03185 9.53891 4.73874 9.43177L8.77411 8.81859C9.0548 8.77601 9.29743 8.59175 9.42292 8.32582L11.2275 4.50228C11.5432 3.83257 12.4564 3.83257 12.7724 4.50228Z"),x=new Path2D("M12 4C11.6927 3.99995 11.3854 4.16737 11.2275 4.50228L9.42291 8.32582C9.29742 8.59175 9.05478 8.77601 8.7741 8.81859L4.73872 9.43177C4.03184 9.53891 3.74982 10.447 4.26112 10.9684L7.18111 13.9446C7.38403 14.1515 7.47681 14.4499 7.42875 14.742L6.73955 18.9445C6.61874 19.6806 7.35766 20.2421 7.98978 19.8945L11.599 17.9105C11.7245 17.8415 11.8622 17.8071 12 17.8071V10.9035V4Z"),h=e=>{let{size:t="md",rating:a}=e,i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=i.current;if(!e||!p||!x)return;let l=m(t),n=21*l*5,r=24*l,s=window?Math.ceil(window.devicePixelRatio):1;e.width=n*s,e.height=r*s,e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px");let c=e.getContext("2d");if(c){c.resetTransform(),c.clearRect(0,0,c.canvas.width,c.canvas.height),c.setTransform(s*l,0,0,s*l,0,0);for(let e=0;e<5;e++){if(a>=e+.25){let t=a>=e+.25&&a<e+.75?x:p;c.fillStyle=o.O9.yellow.DEFAULT,c.fill(t)}else c.fillStyle=o.O9.white.DEFAULT,c.fill(p);c.fillStyle=o.O9.black.DEFAULT,c.stroke(p),c.translate(21,0)}}},[a,t]),(0,n.jsx)("canvas",{ref:i})},f=e=>{let{scrollToElementId:t,rating:a,count:s,size:o}=e,m=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{rating:a,size:o}),(0,n.jsx)("span",{className:(0,r.Z)("font-semibold","sm"===o?"text-xs":"text-sm"),children:void 0!==s&&"(".concat(s.toLocaleString(c.g.EN),")")})]});return t?(0,n.jsx)("a",(0,l._)((0,i._)({"aria-label":u(e)},d(e)),{href:t,children:m})):(0,n.jsx)("div",(0,l._)((0,i._)({"aria-label":u(e)},d(e)),{children:m}))}},13404:function(e,t,a){"use strict";a.d(t,{v:function(){return v}});var i=a(20567),l=a(47702),n=a(85893),r=a(86010);a(67294);var s=a(42630),o=a(9419),c=a(81279),d=a(28220),u=a(80887),m=a(20279),p=a(32737),x=a(6638);let h="h-auto rounded",f="w-full max-w-[275px]",g="mb-2 line-clamp-3 font-graphik text-a-sm font-medium lg:text-a-base lg:line-clamp-2",v=e=>{var{layoutClassName:t,recipe:a,testId:s="recipe-card",checked:o,onCheckboxChange:c,selectMode:d}=e,u=(0,l._)(e,["layoutClassName","recipe","testId","checked","onCheckboxChange","selectMode"]);return d?(0,n.jsx)("button",{"aria-checked":o,"aria-label":"Select recipe",className:(0,r.Z)("card-clickable",h,t||f,"text-left sm:hover:opacity-75"),"data-testid":s,onClick:()=>c(a.id,!o),role:"checkbox",type:"button",children:(0,n.jsx)(b,(0,i._)({checked:o,onCheckboxChange:c,recipe:a,selectMode:!0},u))}):(0,n.jsx)("div",{className:(0,r.Z)("card-clickable",h,t||f),"data-testid":s,children:(0,n.jsx)(b,(0,i._)({recipe:a,selectMode:!1},u))})},b=e=>{var t,a;let{onClickSave:i,recipe:l,selectMode:h,checked:f}=e,v=(0,x.VY)(l),b=e=>{e.preventDefault(),e.stopPropagation(),i(l)},j=l.info.rating_count,y=(0,m.bs)(l.info.overall_rating,"ui");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"relative",children:[h?(0,n.jsx)("div",{className:"absolute right-3 top-3 z-10 flex h-9 w-9 items-center justify-center",children:(0,n.jsx)("div",{className:(0,r.Z)("flex items-center justify-center","h-5 w-5 rounded-sm border border-black",f?"bg-black":"bg-white"),children:f&&(0,n.jsx)(o.J,{color:"white",icon:"check",size:"sm"})})}):(0,n.jsx)(s.h,{"aria-label":l.is_saved?"Unsave Recipe":"Save recipe",icon:l.is_saved?"unsave":"save",layoutClassName:"absolute top-3 right-3 z-10",onClick:e=>void b(e),size:"2xl"}),(0,n.jsx)(c.E,{alt:"Recipe image thumbnail",className:"rounded",height:Math.min(v.height,420),objectFit:"cover",src:v.url,width:Math.min(v.width,420)})]}),(0,n.jsxs)("div",{className:"py-2",children:[h?(0,n.jsx)("p",{className:g,children:l.name}):(0,n.jsx)(d.r,{className:(0,r.Z)("card-clickable--link",g),href:(0,x.Xr)(l),children:l.name}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-1 lg:flex-row lg:items-center lg:gap-3",children:[j>0&&(0,n.jsx)(u.i,{count:j,rating:y,size:"md"}),(l.info.prep_time||l.info.cook_time)&&(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(o.J,{icon:"clock-outlined"}),(0,n.jsx)("p",{className:"line-clamp-1 text-p-sm text-gray-600",children:(0,p.yH)(null!==(t=l.info.prep_time)&&void 0!==t?t:void 0,null!==(a=l.info.cook_time)&&void 0!==a?a:void 0)})]})]})]})]})}},80977:function(e,t,a){"use strict";a.d(t,{My:function(){return l},Nf:function(){return n},OT:function(){return i}});let i=e=>{let{slug:t}=e;return"/shows/".concat(t)},l=e=>{let{slug:t}=e;return"/documentaries/".concat(t)},n=e=>{let{mediaType:t,slug:a}=e;return"show"===t?i({slug:a}):l({slug:a})}},86352:function(e,t,a){"use strict";a.d(t,{Y:function(){return r}});var i=a(85893),l=a(9419),n=a(7916);let r=e=>{let{notificationState:t,onClose:a}=e;return(0,i.jsxs)(n.P,{hideCloseButton:"error-v2"===t.variant,layoutClassName:"px-2 py-2 !justify-start gap-2 text-a-sm md:px-6 md:py-6",onClose:a,show:t.show,timeout:5e3,variant:t.variant,children:[t.icon&&(0,i.jsx)(l.J,{color:t.icon.color,icon:t.icon.icon,size:"md"}),t.label]})}},73249:function(e,t,a){"use strict";a.d(t,{g:function(){return u}});var i=a(20567),l=a(14932),n=a(85893),r=a(67294),s=a(88309),o=a(9520),c=a(91572),d=a(10683);let u=e=>{let{open:t,currentServingSizeScale:a,onClose:u,onConfirm:m,minimumServingSize:p,defaultServingSize:x}=e,[h,f]=(0,r.useState)(a*x),g=(0,r.useRef)(null),v=(0,r.useRef)(null),b=()=>{f(e=>Math.max(e?e-1:1,p))},j=()=>{f(e=>Math.min(e?e+1:1,d.RD))},y=()=>{g.current&&clearInterval(g.current)},w=()=>{v.current&&clearInterval(v.current)};return(0,n.jsx)(c.u_,{onClose:u,open:t,size:"fit",title:"Scale Recipe",children:(0,n.jsxs)("div",{className:"-mt-3 flex w-[294px] flex-col gap-4.5 md:w-[440px]",children:[(0,n.jsx)("p",{className:"self-center",children:"Servings"}),(0,n.jsxs)("div",{className:"m-auto flex gap-4.5",children:[(0,n.jsx)(s.z,(0,l._)((0,i._)({},{onPointerDown:()=>{b(),v.current=setInterval(()=>b(),200)},onPointerCancel:w,onPointerLeave:w,onPointerUp:w}),{"aria-label":"Decrease serving size by one",icon:"arrow-down",layoutClassName:"rounded-full border-black",variant:"stroke-v2"})),(0,n.jsx)("div",{className:"w-20",children:(0,n.jsx)(o.I,{centerText:!0,onChange:e=>{if(!e.target.value){f(void 0);return}let t=Math.max(Number(e.target.value),p);f(t=Math.min(t,d.RD))},onKeyDown:e=>{"."===e.key&&e.preventDefault(),"Enter"===e.key&&h&&(e.preventDefault(),m((h||1)/x))},type:"number",value:h})}),(0,n.jsx)(s.z,(0,l._)((0,i._)({},{onPointerDown:()=>{j(),g.current=setInterval(()=>j(),200)},onPointerCancel:y,onPointerLeave:y,onPointerUp:y}),{"aria-label":"Increase serving size by one",icon:"arrow-up",layoutClassName:"rounded-full border-black",variant:"stroke-v2"}))]}),(0,n.jsx)(s.z,{disabled:x===h,layoutClassName:"self-center text-a-sm",onClick:()=>f(x),variant:"text-red",children:"Back to Default"}),(0,n.jsxs)("p",{className:"text-center text-xs text-gray-700",children:["Changing servings can result in strange unit conversions ",(0,n.jsx)("br",{className:"hidden md:block"})," (like a fraction of an egg)."]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2.5 pt-5",children:[(0,n.jsx)(s.z,{fullWidth:!0,layoutClassName:"w-full",onClick:u,size:"md",variant:"gray",children:"Cancel"}),(0,n.jsx)(s.z,{disabled:!h||a*x===h,fullWidth:!0,layoutClassName:"w-full",onClick:()=>m((h||1)/x),size:"md",variant:"black",children:"Change Servings"})]})]})})}},63653:function(e,t,a){"use strict";a.d(t,{XI:function(){return i},qK:function(){return n},vu:function(){return l}});let i=10,l=500,n=4},11615:function(e,t,a){"use strict";a.d(t,{Z:function(){return r},n:function(){return s}});var i=a(82161),l=a(66671),n=a(47881);let r=e=>{if(1>=(0,i.Z)(new Date,e)){let t=(0,n.Z)(e);return"1 day"===t?"Yesterday":"".concat(t," ago")}return(0,l.Z)(e,"MM/dd/YYY")},s=e=>(0,l.Z)(e,"MM/dd/YYY h:mm aa")},33305:function(e,t,a){"use strict";a.d(t,{W:function(){return d}});var i=a(47702),l=a(67294),n=a(8100),r=a(54517),s=a(24020),o=a(45210),c=a(69980);let d=function(e,t,a){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{ignoreCache:u,queryDependencies:m,initialData:p,errorClass:x,skipDateConversion:h=!1}=d,f=(0,i._)(d,["ignoreCache","queryDependencies","initialData","errorClass","skipDateConversion"]),g=(0,r.S9)(e),v=(0,o.K)(e,t,a),b=!m||m.every(e=>!!e);p&&(f.fallbackData=p);let{data:j,error:y,isValidating:w,mutate:N}=(0,n.ZP)(b?[v.toString(),g,u,x]:null,c.Be,f);return(0,l.useMemo)(()=>({data:h?j:(0,s.ve)(j),error:y,isValidating:w,isLoading:b&&!y&&!j,mutate:N}),[j,y,w,N,b,h])}},24020:function(e,t,a){"use strict";a.d(t,{ax:function(){return u},b$:function(){return p},fD:function(){return x},ve:function(){return c},xW:function(){return h}});var i=a(33913),l=a(86680);let n=new RegExp(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/),r=new RegExp(/^\d{4}-\d{2}-\d{2}/),s=new RegExp(/^(?:\d{1,2}\/){2}\d{4}/),o=(e,t)=>{if("object"!=typeof e||null===e)return e;let a=Object.entries(e).map(e=>{let[a,i]=e;return[a,t(i,a)]});return(0,l.s)(a)},c=e=>Array.isArray(e)?e.map(e=>c(e)):o(e,e=>Array.isArray(e)?e.map(e=>c(e)):"object"==typeof e?e instanceof Date?e:c(e):"string"==typeof e&&(n.test(e)||r.test(e)||s.test(e))?new Date(e):e),d=e=>{let[t,a,i]=e.split(":").map(Number);return{hours:t,minutes:a,seconds:i}},u=e=>{let{hours:t,minutes:a}=d(e);if(void 0===t||void 0===a)return;let i=a.toString().padStart(2,"0");return"".concat("".concat(t>12?t-12:0===t?12:t),":").concat(i," ").concat(t<12?"AM":"PM")},m=e=>{let[t,a]=e.split(" ").filter(Boolean);if(!["AM","PM"].includes(null==a?void 0:a.toUpperCase()))return;let{hours:i,minutes:l}=d(t);if(void 0!==i&&void 0!==l)return"".concat((12===i?0:i)+("AM"===a?0:12),":").concat(l)},p=(e,t)=>{let{hours:a,minutes:i}=d(m(t)||"");return void 0===a||void 0===i?null:new Date(e.getFullYear(),e.getMonth(),e.getDate(),a,i)},x=(e,t)=>{if(!e||!t)return!1;let a=p(e,t);return!!a&&(0,i.Z)(a)},h=e=>new Date(e).toISOString().split(".")[0]},80155:function(e,t,a){"use strict";a.d(t,{M:function(){return n},j:function(){return r}});var i=a(17931),l=a(65203);let n=e=>{let t=encodeURIComponent(e.url),a=e.text&&encodeURIComponent(e.text),n=e.pinterestImageUrl&&encodeURIComponent(e.pinterestImageUrl);return[{text:"Facebook",icon:"facebook",url:"https://www.facebook.com/dialog/share?app_id=".concat(i.g5,"&display=popup&href=").concat(t,"&redirect_uri=").concat(t)},{text:"Pinterest",icon:"pinterest",url:"https://www.pinterest.com/pin/create/button/?url=".concat(t,"&description=").concat(a).concat(n&&"&media=".concat(n))},{text:"Email",icon:"mail",url:"mailto:?body=".concat(t)},{text:"Twitter",icon:"twitter",url:"https://twitter.com/intent/tweet?text=".concat(a,"&url=").concat(t,"&via=").concat(l.Z.twitter.accountId)}]},r=()=>navigator.share&&/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent)},19653:function(e,t,a){"use strict";a.d(t,{oh:function(){return s},qS:function(){return r},yJ:function(){return n}});var i=a(20567),l=a(32277);let n=(e,t,a)=>{var i,n;return(null==e?void 0:null===(n=e.find(e=>{let{use_case:i,image:l}=e;return t===i&&a===(null==l?void 0:l.aspect_ratio)}))||void 0===n?void 0:null===(i=n.image)||void 0===i?void 0:i.url)||l.Z},r=e=>{let{videos:t,images:a}=e,l=[];for(let e of t){let t=(0,i._)({},e),n=a.find(t=>{let{upload_id:a}=t;return a===e.upload_id});n&&(t.cover=n),l.push(t)}return l},s="Award-winning food, travel, and home & design shows and documentaries."},81841:function(e,t,a){"use strict";a.d(t,{P:function(){return i},j:function(){return l}});let i=e=>{let{height:t,width:a}=e;return a===t?"1:1":a>t?"16:9":"9:16"},l=e=>{var t;return(null===(t=e.captions)||void 0===t?void 0:t.filter(e=>{let{file:t,file_extension:a}=e;return t&&"vtt"===a}).map(e=>{let{language:t,file:a}=e;return{default:!1,kind:"captions",src:null==a?void 0:a.url,srclang:t}}))||[]}},10517:function(e,t,a){"use strict";a.d(t,{r:function(){return r}});var i=a(67294),l=a(66016),n=a(38859);let r=e=>{let{isLoggedIn:t}=(0,n.qk)(),{open:a}=(0,l.Fp)();(0,i.useEffect)(()=>{void 0===a||!1!==a||t||e()},[t,e,a])}},3488:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return tr},default:function(){return tn}});var i=a(20567),l=a(85893),n=a(64487),r=a(5152),s=a.n(r),o=a(11163),c=a(2962),d=a(67294),u=a(56692),m=a(38859),p=a(66863),x=a(90581),h=a(65203),f=a(20279);let g=e=>{var t,a,i,n;let{recipe:r,thumbnail:s,video:o}=e,d=!!r.campaign,u=[],m=[];if(d)u=r.components.flatMap(e=>e.ingredients.map(e=>e.text)),m=r.components.flatMap(e=>e.steps.map(e=>({text:e.text})));else for(let e of r.components)u=[...u,...e.ingredients.map(e=>{var t;return null!==(t=(0,f.Pw)(e,{unitSystem:"imperial",servingSizeScale:1}))&&void 0!==t?t:e.text})],m=[...m,...e.steps.map(e=>e.formatted_text?{text:(0,f.wT)("imperial",e.formatted_text,(0,f.Jo)("imperial",e.placeholders,1))}:{text:e.text})];let p=(0,f.OQ)(r);return(0,l.jsx)(c.P8,{authorName:h.Z.siteName,cookTime:null!==(t=r.info.cook_time)&&void 0!==t?t:void 0,dateModified:null!==(a=null==p?void 0:p.date)&&void 0!==a?a:void 0,datePublished:null!==(i=r.published_at)&&void 0!==i?i:void 0,description:r.description||"Recipe for ".concat(r.name),images:[s.url],ingredients:u,instructions:m,name:r.name,prepTime:null!==(n=r.info.prep_time)&&void 0!==n?n:void 0,video:o&&{name:r.name,description:r.description||"Video for ".concat(r.name," recipe"),contentUrl:o.url,embedUrl:o.url,uploadDate:r.published_at,duration:o.duration,thumbnailUrls:[s.url]},yields:r.info.yield?String(r.info.yield):void 0})};var v=a(76721),b=a(33305);let j=()=>(0,b.W)("countryIs","",void 0,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});var y=a(30692),w=a(6638),N=a(97378),k=a(28477),_=a(91225),C=a(38213),S=a(99983),z=a(4298),Z=a.n(z),R=a(17931);let E=e=>{let{disabled:t,slug:a,onReady:i,onError:n}=e,[r,s]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{!t&&r&&"local"!==R.jG&&window.chicory&&(window.chicory("setRecipe","".concat(R.sb,"/recipes/").concat(a)),null==i||i())},[t,r,a,i]),t?null:(0,l.jsx)(Z(),{dangerouslySetInnerHTML:{__html:"\n        (function(w, d, s, n, u, a, m) {\n        w['ChicoryObject'] = n;\n        w[n] = w[n] || function() {(w[n].q = w[n].q || []).push(arguments)},\n        w[n].l = 1 * new Date();\n        a = d.createElement(s),\n        m = d.getElementsByTagName(s)[0];\n        a.async = 1;\n        a.src = u;\n        m.parentNode.insertBefore(a, m)\n        })(window, document, 'script', 'chicory',\n        'https://chicoryapp.com/widget_v2');\n        var CHICORY_NO_ADS=true;\n      "},defer:!0,id:"chirocy",onError:n,onReady:()=>s(!0),strategy:"lazyOnload"})};var I=a(88309),M=a(9520),P=a(10683);let F=()=>{let[e,t]=(0,d.useState)(""),{push:a}=(0,o.useRouter)();return(0,l.jsx)("form",{className:"mx-auto flex w-full justify-center bg-gray-150 p-4 print:hidden",onSubmit:t=>{t.preventDefault();let i="ordering=relevance&search=".concat(e);a("".concat(P.nl,"?").concat(i))},children:(0,l.jsxs)("div",{className:"mx-auto flex w-[700px]",children:[(0,l.jsx)(M.I,{name:"search",onChange:e=>t(e.target.value),placeholder:"Search recipes",rightRounded:!1,type:"text",value:e}),(0,l.jsx)(I.z,{"aria-label":"filters",layoutClassName:"rounded-l-none",type:"submit",variant:"black",children:"Search"})]})})};var L=a(77752),D=a(86010),T=a(66671),U=a(45220),A=a.n(U),O=a(66016),q=a(42630),Image=a(81279),G=a(28220),Y=a(80887),B=a(61587),J=a(80977),W=a(80155),V=a(19653),H=a(81841),K=a(86938);let Q=e=>(0,k.a)(C.AV.tablet.raw,e);var X=a(80019),$=a(28511),ee=a(63653),et=a(25675),ea=a.n(et),ei=a(22626),el=a(81217),en=a(33088),er=a(11615);let es=e=>{var t,a,i,n;let{note:{id:r,created_at:s,status:o,commenter:c,comment:d,show_staff_badge:u}}=e,m=new Date(s),p=(null==c?void 0:null===(t=c.profile)||void 0===t?void 0:t.display_name)||"Unknown User",x=(null==c?void 0:null===(n=c.profile)||void 0===n?void 0:null===(i=n.images[0])||void 0===i?void 0:null===(a=i.image)||void 0===a?void 0:a.url)||(0,en.J)(null==c?void 0:c.profile),h="pending_approval"===o;return(0,l.jsxs)("li",{className:"flex flex-col rounded-lg border border-solid border-gray-400 p-5 text-gray-800",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 items-center sm:grid-cols-3",children:[(0,l.jsxs)("div",{className:(0,D.Z)("flex items-center gap-2 sm:col-span-2",u&&"col-span-2"),children:[(0,l.jsx)("div",{className:(0,D.Z)("h-12 w-12 overflow-hidden rounded-full",h&&"opacity-50"),children:(0,l.jsx)(ea(),{alt:"".concat(p," avatar"),"aria-hidden":!0,height:48,src:x,width:48})}),(0,l.jsx)("span",{className:(0,D.Z)("text-a-base font-medium",h&&"opacity-50"),children:p}),u&&(0,l.jsx)(ei.A,{color:"black",layoutClassName:"ml-auto sm:ml-2.5",text:"Tastemade Staff"})]}),h?(0,l.jsx)(ei.A,{color:"red-v2",layoutClassName:(0,D.Z)("justify-self-end sm:col-span-1",u&&"col-span-2"),text:"Pending approval"}):(0,l.jsx)(el.u,{TriggerComponent:(0,l.jsx)("span",{children:(0,er.Z)(m)}),layoutClassName:(0,D.Z)("text-p-sm text-gray-600","justify-self-end",u&&"col-span-2 sm:col-span-1"),children:(0,er.n)(m)})]}),(0,l.jsx)("hr",{className:"my-4 border-t border-solid border-gray-300"}),(0,l.jsx)("p",{className:(0,D.Z)("whitespace-pre-wrap break-words text-a-base",h&&"opacity-50"),children:d})]},r)};var eo=a(87536),ec=a(70327),ed=a(96116);let eu=e=>{let{hideNameFields:t,submitErrorMessage:a}=e,{isSubmitting:i,isSubmitSuccessful:n}=(0,eo.cl)(),{reset:r,getValues:s}=(0,eo.Gc)();return(0,d.useEffect)(()=>{if(n){let{first_name:e,last_name:t}=s();r({comment:void 0,first_name:e,last_name:t})}},[n,s,r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ed.n,{maxLength:ee.vu,maxRows:5,multiline:!0,name:"comment",placeholder:"Your first name, last initial, and profile picture will be shown publicly"}),a&&(0,l.jsx)(ec.b,{color:"red",children:a}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-end gap-5 sm:mt-3 sm:flex-row sm:items-start",children:[(0,l.jsx)(ed.n,{"aria-hidden":t,className:(0,D.Z)(t&&"hidden","w-full sm:w-auto"),name:"first_name",placeholder:"First Name",required:!0,size:"sm"}),(0,l.jsx)(ed.n,{"aria-hidden":t,className:(0,D.Z)(t&&"hidden","w-full sm:w-auto"),name:"last_name",placeholder:"Last Name",size:"sm"}),(0,l.jsx)(I.z,{layoutClassName:"ml-auto w-full sm:w-auto",showLoading:i,size:"md",type:"submit",variant:"black",children:"Submit"})]})]})};var em=a(91572);let ep=e=>{let{open:t,onClose:a}=e;return(0,l.jsxs)(em.u_,{onClose:a,open:t,size:"sm",title:"Thank you for your submission",children:[(0,l.jsx)("p",{className:"mb-[52px] mt-4 text-center",children:"Your note will appear once it has been approved."}),(0,l.jsx)(I.z,{fullWidth:!0,onClick:a,variant:"black",children:"Close"})]})};var ex=a(16310);let eh=(0,ex.Ry)({comment:(0,ex.Z_)().trim().min(ee.XI,"Note must be at least ".concat(ee.XI," characters")).max(ee.vu,"Note cannot be more than ".concat(ee.vu," characters")).required("Please enter your note above"),first_name:(0,ex.Z_)().trim().required("Please enter your first name"),last_name:(0,ex.Z_)().trim().nullable().transform(e=>e||null)}),ef=e=>{var t;let{recipe:a,notesCount:i,onNotesChange:n}=e,{openAuthModal:r}=(0,O.Fp)(),{userId:s,refreshUser:o,firstName:c,lastName:u}=(0,m.qk)(),[p,x]=(0,d.useState)(ee.qK),[{data:h,fetching:f},g]=(0,L.IO)({variables:{recipe_id:a.id,offset:0,limit:p}}),[v,b]=(0,d.useState)(),[j,y]=(0,d.useState)(!1),[,w]=(0,L.I5)();(0,_.v)(()=>{g({requestPolicy:"cache-and-network"})},[]);let N=(null==h?void 0:null===(t=h.recipe)||void 0===t?void 0:t.info.comments)||[],k=async e=>{if(b(void 0),!s)return b("Must be logged in to submit note");let{error:t}=await w({recipe_id:a.id,recipe_info_id:a.info.id,comment:e.comment,user_id:s,first_name:e.first_name,last_name:e.last_name});if(t)return b("There was an error submitting your note. Please try again later");o(),g({requestPolicy:"network-only"}),n(),y(!0)};return(0,l.jsxs)("div",{className:"scroll-mt-64 space-y-7 sm:scroll-mt-20",id:"notes",children:[(0,l.jsxs)("h4",{className:"text-h-6 font-medium text-gray-800",children:["Recipe Notes (",i.toLocaleString(),")"]}),s?(0,l.jsx)($.U,{className:"flex flex-col bg-gray-100 p-4 print:hidden",defaultValues:{first_name:c,last_name:u},onSubmit:k,schema:eh,children:(0,l.jsx)(eu,{hideNameFields:!!c,submitErrorMessage:v})}):(0,l.jsxs)("div",{className:"space-y-3 bg-gray-100 px-4 py-7 text-center print:hidden",children:[(0,l.jsx)("p",{className:"text-p-base",children:"Sign up for FREE to add your note."}),(0,l.jsx)(I.z,{layoutClassName:"mx-auto",onClick:()=>r("signup"),size:"md",variant:"black",children:"Sign Up"}),(0,l.jsxs)("p",{className:"text-p-sm",children:["Already have an account?"," ",(0,l.jsx)(I.z,{onClick:()=>r("login"),variant:"text",children:"Log In"})]})]}),N.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("ol",{className:"flex flex-col gap-5",children:N.map(e=>(0,l.jsx)(es,{note:e},e.id))}),i>ee.qK&&(0,l.jsx)(I.z,{disabled:p>=i,icon:p>=i?void 0:"chevron-down",layoutClassName:"mx-auto print:hidden",onClick:()=>{x(e=>e+ee.qK)},showLoading:f,size:"md",variant:"gray",children:"Load More"})]}),(0,l.jsx)(ep,{onClose:()=>y(!1),open:j})]})};var eg=a(47702),ev=a(75706),eb=a(49407),ej=a(44511),ey=a(14932),ew=a(75131),eN=a(1382),ek=a(95365),e_=a(73153),eC=a(80869);let eS=e=>{let{helpText:t,id:a,InputHelpTextProps:n,InputLabelProps:r,label:s,onBlur:o,onChange:c,onFocus:u,value:m,defaultValue:p,options:x,disabled:h=!1,readOnly:f=!1,required:g=!1,size:v="lg",status:b="default",reverse:j,layout:y="vertical"}=e,[w,N]=(0,d.useState)(m||p),k=t&&a?"".concat(a,"-helper-text"):void 0;(0,d.useEffect)(()=>{N(m)},[m]);let _=s&&(0,l.jsx)("div",{className:"mb-1 flex justify-between",children:(0,l.jsx)(ew.E.Label,(0,ey._)((0,i._)({as:ek.A,role:void 0},r),{children:s}))});return(0,l.jsx)(e_.B,{disabled:h,readOnly:f,required:g,size:v,status:b,children:(0,l.jsxs)(ew.E,{disabled:h,onBlur:e=>{o&&o(e)},onChange:e=>{N(e),c&&c(e)},onFocus:e=>{u&&u(e)},value:null!=m?m:w,children:["vertical"===y&&_,(0,l.jsxs)("div",{className:(0,D.Z)("flex items-start justify-start gap-2","horizontal"===y?"flex-row gap-x-5":"flex-col"),children:["horizontal"===y&&(0,l.jsxs)("span",{className:"flex flex-row",children:[_,"\xa0:"]}),x.map(e=>(0,l.jsx)(eC.Y,{option:e,reverse:j},e.value))]}),t&&(0,l.jsx)(eN.u,(0,ey._)((0,i._)({id:k},n),{children:t}))]})})};eS.displayName="RadioGroup";var ez=a(86352),eZ=a(41664),eR=a.n(eZ),eE=a(86138),eI=a(16406),eM=a(45277);let eP=(e,t)=>{var a;let{isLoggedIn:i,recipeSlug:r,servingSize:s}=t,[o,c]=(0,d.useState)({show:!1}),[{data:u},m]=(0,L.Md)({requestPolicy:"cache-and-network",pause:!i,variables:{recipe_slug:r,grocery_list_slug:"grocery-list"}}),p=null==u?void 0:u.saved_recipe_tags[0],x=null==p?void 0:p.id,h=null==p?void 0:null===(a=p.saved_recipes[0])||void 0===a?void 0:a.id,f=!!h,[g,v]=(0,d.useState)(!1),{requireAuth:b}=(0,O.Fp)(),[,j]=(0,eM.Ht)(),[,y]=(0,eI.As)(),[,w]=(0,L.iF)(),N=(0,d.useCallback)(async()=>{let t=x,a=h;try{var i,r;if(!t){let{data:e,error:a}=await j({});if(t=null==e?void 0:null===(i=e.insert_saved_recipe_tag)||void 0===i?void 0:i.id,a||!t)throw a}if(!a){let{data:t,error:i}=await y({recipe_id:e});if(a=null==t?void 0:null===(r=t.save_recipe)||void 0===r?void 0:r.id,i||!a)throw i}let{error:n}=await w({saved_recipe_id:a,tag_id:t,serving_size_scaling:s});if(n)throw n;c({show:!0,label:(0,l.jsxs)("p",{className:"font-medium",children:["Ingredients added to your"," ",(0,l.jsx)(eR(),{className:"font-semibold text-green-600 underline",href:"/account/grocery-list",children:"Grocery List"})]}),icon:{color:"green",icon:"list"},variant:"success-v2"})}catch(e){e instanceof eE.C||(0,n.Tb)(e),c({show:!0,label:(0,l.jsx)("p",{className:"font-medium",children:"An error ocurred, please try again."}),variant:"error-v2"})}},[x,h,j,y,e,w,s]),k=i&&!!(null==u?void 0:u.saved_recipe_tags);(0,d.useEffect)(()=>{k&&g&&!f&&(N(),v(!1))},[k,f,g,N]);let _=b(async(e,t)=>{let{closeAuthModal:a}=t;a(),v(!0),m()});return{handleAddToGroceryList:_,recipeIsInGroceryList:f,setNotificationState:c,notificationState:o}};var eF=a(9419),eL=a(32737);let eD=e=>{let{color:t="gray",text:a,icon:i}=e;return(0,l.jsxs)("div",{className:(0,D.Z)("inline-flex items-center justify-start rounded p-2 font-normal",{"bg-yellow-200":"yellow"===t,"bg-green-200":"green"===t,"bg-white":"gray"===t||"black"===t,"bg-red-200":"red"===t}),children:[(0,l.jsx)(eF.J,{color:"yellow"===t?"black":t,icon:i,layoutClassName:"mr-1"}),(0,l.jsx)("span",{className:(0,D.Z)("text-sm",{"text-black":"gray"===t||"yellow"===t||"black"===t,"text-green":"green"===t,"text-red":"red"===t}),children:a})]})},eT=e=>{let{recipeInfo:t,servingSizeData:a,onScaleButtonClick:i}=e;return(0,l.jsxs)("aside",{className:(0,D.Z)("flex flex-col space-y-2 py-3","lg:space-y-0 lg:border-b lg:border-t lg:py-2","xl:flex-row xl:space-x-4","print:flex-row print:space-y-0 print:border-b print:border-t "),children:[t.prep_time&&(0,l.jsx)(eD,{icon:"cooking",text:"Prep Time: ".concat((0,eL.mr)(t.prep_time,{abbreviateUnits:!0}))}),t.cook_time&&(0,l.jsx)(eD,{icon:"cooking-fire",text:"Cook Time: ".concat((0,eL.mr)(t.cook_time,{abbreviateUnits:!0}))}),t.yield&&t.yield>0?a.isEnabled&&a.servingSizeScale?(0,l.jsxs)("div",{className:"inline-flex items-center justify-start rounded bg-white p-2 font-normal",children:[(0,l.jsx)(eF.J,{color:"black",icon:"cake",layoutClassName:"mr-1"}),(0,l.jsxs)("span",{className:"mr-2.5 text-sm text-black",children:["Servings:"," ",(0,l.jsx)("span",{className:(0,D.Z)("font-semibold",{"text-green":a.isScaling}),children:t.yield*a.servingSizeScale})]}),(0,l.jsx)(I.z,{onClick:i,variant:"text",children:"Scale"})]}):(0,l.jsx)(eD,{icon:"cake",text:"Servings: ".concat(t.yield)}):null,t.difficulty&&"unknown"!==t.difficulty&&(0,l.jsx)(eD,{color:(0,f.dr)(t.difficulty),icon:"bars",text:(0,f.mq)(t.difficulty)})]})};var eU=a(73249),eA=a(52578);let eO=()=>{let{openAuthModal:e}=(0,O.Fp)();return(0,l.jsxs)("div",{className:(0,D.Z)("mx-auto flex w-full max-w-[400px] flex-col items-center space-y-3 py-2"),children:[(0,l.jsx)("h3",{className:"font-tiempos text-h-6",children:"Keep reading"}),(0,l.jsxs)("p",{className:"text-center text-p-base",children:["Get access to the full recipe and ",eA.a," more!"]}),(0,l.jsx)(I.z,{onClick:()=>e("signup"),variant:"yellow",children:"Sign Up for Free"}),(0,l.jsxs)("span",{className:"text-p-sm",children:["Already have an account?\xa0",(0,l.jsx)(I.z,{onClick:t=>{t.stopPropagation(),e("login")},variant:"text",children:"Log In"})]})]})},eq=s()(()=>a.e(3985).then(a.bind(a,62536)).then(e=>e.NutritionalInformationModal),{loadableGenerated:{webpack:()=>[62536]}}),eG=e=>{var t,{recipe:{components:a},shoppabilityMode:i,isChicoryLoaded:r,ingredientsAreCorrectlyFormatted:s,stepsAreCorrectlyFormatted:o}=e,c=(0,eg._)(e.recipe,["components"]);let{isLoggedIn:u}=(0,m.qk)(),p=!!c.campaign,x=!u&&!p,{openAuthModal:h}=(0,O.Fp)(),g=x?()=>h("signup"):void 0,[v,b]=(0,d.useState)(),j=c.info.shopping_link,N=c.info.shopping_button_text,[k,_]=(0,d.useState)(!1),[C,S]=(0,d.useState)(1),z=1!==C,[Z,E]=(0,d.useState)((0,f._K)({components:a})),[M,P]=(0,d.useState)((0,f.jv)({components:a,isPreview:x})),{handleAddToGroceryList:F,recipeIsInGroceryList:L,notificationState:T,setNotificationState:U}=eP(c.id,{isLoggedIn:u,recipeSlug:c.slug,servingSize:(C||1)*(c.info.yield||1)});(0,d.useEffect)(()=>{E((0,f._K)({components:a})),P((0,f.jv)({components:a,isPreview:x})),S(1),W(!1),H(!1)},[a,x]);let A=(0,f.kJ)(a)?"metric":"imperial",[q,G]=(0,d.useState)(A),[Y,B]=(0,d.useState)(!1),[J,W]=(0,d.useState)(!1),[V,H]=(0,d.useState)(!1),K=!p&&s&&o&&!J&&!V,Q=(null===(t=c.info.nutrition_info[0])||void 0===t?void 0:t.is_active)===!1,[X,$]=(0,d.useState)(!1),[ee,et]=(0,d.useState)(null);(0,d.useEffect)(()=>{let e=async()=>{ee&&(await ee.release(),et(null))};return"wakeLock"in navigator&&$(!0),()=>{e()}},[ee,c.id]);let ea=async()=>{try{if(ee)await ee.release(),et(null);else{let e=await navigator.wakeLock.request("screen");et(e)}}catch(e){(0,n.Tb)(e)}},ei=i===y.sIF.Override&&!j||i===y.sIF.Default&&!r;return(0,l.jsxs)(l.Fragment,{children:[(c.info.prep_time||c.info.cook_time||"unknown"!==c.info.difficulty||"number"==typeof c.info.yield&&c.info.yield>0)&&(0,l.jsx)(eT,{onScaleButtonClick:()=>_(!0),recipeInfo:c.info,servingSizeData:{isEnabled:K,servingSizeScale:C,isScaling:z}}),(0,l.jsxs)("div",{className:"rounded-m flex flex-col gap-3 bg-gray-150 p-4 text-p-sm md:flex-row print:hidden",children:[(0,l.jsx)("div",{className:"flex flex-col gap-5 lg:flex-row",children:K?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eS,{label:"Units",layout:"horizontal",onChange:G,options:f.NJ,value:q}),R.SE&&(0,l.jsx)(eb.X,{checked:Y,label:"Show Original",onChange:()=>B(!Y)})]}):(0,l.jsx)("i",{className:"text-base text-gray-600",children:Q?"Unit conversion and nutrition information unavailable":"Unit conversion unavailable"})}),Q?K&&(0,l.jsx)("div",{className:"flex-1 text-left md:text-right",children:(0,l.jsx)("span",{className:"text-base italic text-gray-600",children:"Nutrition information unavailable"})}):(0,l.jsx)("div",{className:"flex-1 text-left md:text-right",children:(0,l.jsx)(I.z,{onClick:e=>{e.preventDefault(),b(!0)},variant:"text",children:"Nutrition Information"})})]}),Z.length>0&&(0,l.jsxs)("section",{className:(0,D.Z)(M.length>0&&"mb-5 border-b pb-5"),id:"recipe-ingredients",children:[(0,l.jsx)("div",{className:"mb-5 flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:(0,l.jsx)("h2",{className:"font-tiempos text-h-6",children:"Ingredients"})}),(0,l.jsx)("div",{className:"space-y-8",children:Z.map((e,t,a)=>(0,l.jsxs)("div",{children:[a.length>1&&e.name&&(0,l.jsx)("h3",{className:"mb-4 font-bold",children:e.name}),(0,l.jsx)("ul",{className:"list-inside list-disc",children:e.ingredients.map(e=>(0,l.jsx)("li",{className:(0,D.Z)(Y?"my-4 flex flex-col leading-5":"leading-8"),children:K?(0,l.jsxs)(l.Fragment,{children:[(0,f.Pw)(e,{unitSystem:q,servingSizeScale:C},()=>H(!0)),Y&&(0,l.jsx)("small",{className:"pl-3 text-p-xs leading-4 text-gray",children:(0,f.Uf)(e.text)})]}):(0,f.Uf)(e.text)},"ingredient-".concat(e.id)))})]},"component-".concat(t+1)))}),(0,l.jsxs)("div",{className:(0,D.Z)("mt-5","print:hidden",ei?"":y.sIF.Default?"h-32":"h-26"),children:[(0,l.jsxs)("div",{className:(0,D.Z)("flex w-full flex-col gap-3","md:max-w-[370px]"),children:[L?(0,l.jsx)(ev.Q,{fullWidth:!0,href:"/account/grocery-list",icon:"list",variant:"stroke",children:"Open Grocery List"}):(0,l.jsx)(I.z,{fullWidth:!0,icon:"list",onClick:F,variant:"stroke",children:"Add to Grocery List"}),ei?null:i===y.sIF.Override&&j?(0,l.jsx)(ev.Q,{fullWidth:!0,href:j,target:"_blank",variant:"black",children:null!=N?N:"Get Ingredients"}):i===y.sIF.Default?(0,l.jsx)("div",{className:"chicory-order-ingredients"}):null]}),r&&(0,l.jsx)("p",{className:"mt-2 text-a-xs text-gray-600",children:"*Only 1 of each ingredient will be added to your cart. Please adjust as necessary."})]})]}),M.length>0&&(0,l.jsxs)("section",{className:(0,D.Z)(x&&"relative h-[350px] overflow-hidden print:h-auto"),id:"recipe-preparation",onClick:g,onKeyDown:g,role:"list",children:[(0,l.jsx)("h2",{className:"mb-5 font-tiempos text-h-6",children:"Steps"}),(0,l.jsx)("div",{className:"space-y-8",children:M.map((e,t,a)=>(0,l.jsxs)("div",{children:[a.length>1&&e.name&&(0,l.jsx)("h3",{className:"mb-4 font-bold",children:e.name}),(0,l.jsx)("ol",{className:"list-inside list-decimal space-y-6 leading-[22px]",children:e.steps.map((e,t)=>{let{text:a,formatted_text:i,placeholders:n}=e;return(0,l.jsx)("li",{className:(0,D.Z)(Y?"my-4 flex flex-col leading-5":"leading-8"),children:K?(0,l.jsxs)(l.Fragment,{children:[i&&n.length>0?(0,f.wT)(q,i,(0,f.Jo)(q,n,C),()=>W(!0)):a,Y&&(0,l.jsx)("small",{className:"pl-3 text-p-xs leading-4 text-gray",children:a})]}):a},"step-".concat(t+1))})})]},"component-".concat(t+1)))}),!x&&X&&(0,l.jsx)("div",{className:"mt-5 w-full rounded-lg bg-gray-100 p-4",children:(0,l.jsx)(ej.Z,{LabelProps:{text:"Cooking Mode",subtext:"(keep screen active)",position:"right"},onChange:ea,value:!!ee})}),!x&&(0,l.jsx)(ev.Q,{href:"mailto:support@tastemade.com?subject=".concat(c.name," Feedback&body=Recipe: ").concat(encodeURIComponent((0,w.JG)(c))),icon:"exclamation-triangle",layoutClassName:"w-fit mt-5 sm:mt-8 print:hidden",variant:"gray",children:"Improve This Recipe"}),x&&(0,l.jsx)("div",{className:(0,D.Z)("absolute bottom-0 left-0 w-full","bg-fade-out-top pt-[70px]","print:hidden"),children:(0,l.jsx)("div",{className:"border-t pt-5",children:(0,l.jsx)(eO,{})})})]}),k&&C&&K&&(0,l.jsx)(eU.g,{currentServingSizeScale:C,defaultServingSize:c.info.yield||1,minimumServingSize:Math.max(c.info.minimum_serving_size,1),onClose:()=>_(!1),onConfirm:e=>{S(e),_(!1)},open:k}),"boolean"==typeof v&&!Q&&(0,l.jsx)(eq,{onClose:()=>b(!1),open:v,recipe_id:c.id},c.slug),(0,l.jsx)(ez.Y,{notificationState:T,onClose:()=>{U({show:!1})}})]})},eY=e=>{let{overallRating:t,ratingCount:a}=e;return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h4",{className:"text-h-6 font-medium text-gray-800",children:"Ratings"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-h-5 font-bold",children:t.toFixed(1)}),(0,l.jsx)(Y.i,{count:a,rating:t,size:"lg"})]})]})};var eB=a(46216);let eJ=["diet","cuisine","category"],eW=(e,t)=>{let a=eJ.indexOf(e.type),i=eJ.indexOf(t.type);return a<i?-1:a>i?1:e.value<t.value?-1:1},eV=e=>{let{tags:t}=e,a=e=>{let t="category"===e.type?"category__or":"cuisine"===e.type?"cuisine_type__or":"diet__or",a=(0,eB.I)({[t]:e.value});return"".concat(P.nl,"?").concat(a)};if(0===t.length)return null;let i=t.slice(0,P.R7);return(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 pt-5",children:[(0,l.jsx)("span",{children:"Tags: "}),i.sort(eW).map(e=>{let t=e.value.replace("_"," ");return(0,l.jsx)(ev.Q,{disablePrefetch:!0,href:a(e),layoutClassName:"h-fit rounded-full border border-solid border-gray-600 !p-0 capitalize no-underline shadow-none hover:no-underline",variant:"stroke",children:t.length>P.Uo?(0,l.jsx)(el.u,{TriggerComponent:(0,l.jsx)(ei.A,{color:"gray",text:"".concat(t.slice(0,P.Uo),"..."),transparent:!0}),children:t}):(0,l.jsx)(ei.A,{color:"gray",text:t,transparent:!0})},e.value)})]})]})};var eH=a(23279),eK=a.n(eH),eQ={src:"/_next/static/media/star-empty.fd7ebac1.svg",height:16,width:16,blurWidth:0,blurHeight:0},eX={src:"/_next/static/media/star-full.b7c39bb0.svg",height:16,width:16,blurWidth:0,blurHeight:0};let e$=(e,t)=>{let a=[];for(let i=e;i<=t;i++)a.push({value:i});return a},e0=e=>{let{highlighted:t,size:a}=e;return(0,l.jsx)(Image.E,{alt:"",className:"scale-75 lg:hover:scale-100",height:"lg"===a?"45":"36",src:t?eX:eQ,width:"lg"===a?"45":"36"})},e1=e=>{let{highlighted:t,value:a}=e;return(0,l.jsx)("span",{className:(0,D.Z)("flex h-7 w-7 cursor-default items-center justify-center text-xs font-semibold hover:scale-125",t?"bg-black text-white":"bg-gray-100 text-black"),children:a})},e2=e=>{let{buttonType:t="star",from:a,helpText:n,highlightUpToSelected:r,label:s,onChange:o,resetValue:c,spaceBetween:u,to:m,value:p,disabled:x=!1,readOnly:h=!1,required:f=!1,size:g="lg",status:v="default"}=e,[b,j]=(0,d.useState)(),[y,w]=(0,d.useState)(e$(a,m));(0,d.useEffect)(()=>{w(e$(a,m))},[a,m]);let N=(0,d.useMemo)(()=>{let e=(0,d.forwardRef)((e,t)=>{var{children:a,onClick:n,role:r}=e,s=(0,eg._)(e,["children","onClick","role"]);return(0,l.jsx)("div",(0,ey._)((0,i._)({},s),{onClick:e=>{"true"===s["aria-checked"]?(o(c),j(void 0)):n&&n(e)},ref:t,role:r,children:a}))});return e.displayName="CustomDiv",e},[o,c]);return(0,l.jsx)(e_.B,{disabled:x,readOnly:h,required:f,size:g,status:v,children:(0,l.jsxs)(ew.E,{onChange:o,value:p,children:[s&&(0,l.jsx)(ew.E.Label,{as:ek.A,children:s}),(0,l.jsx)("div",{className:(0,D.Z)("flex flex-row",u?"justify-between":"star"===t?"space-x-2":"space-x-4",s&&"mt-2"),onMouseLeave:()=>j(void 0),children:y.map(e=>{let a=r&&"number"==typeof b?e.value<=b:r&&p?e.value<=p:e.value===p;return(0,l.jsx)(ew.E.Option,{as:c?N:void 0,className:"lg:cursor-pointer",onMouseEnter:()=>j(e.value),value:e.value,children:"star"===t?(0,l.jsx)(e0,{highlighted:a,size:g}):(0,l.jsx)(e1,{highlighted:a,value:e.value})},"item-".concat(e.value))})}),n&&(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)(eN.u,{children:n})})]})})};var e5=a(10517);let e4=e=>{var t,a;let{recipe:i,canPersistUpdates:n,onRatingChange:r}=e,{openAuthModal:s}=(0,O.Fp)(),{isLoggedIn:o}=(0,m.qk)(),[c,u]=(0,d.useState)(),p=null==i?void 0:null===(t=i.info.ratings)||void 0===t?void 0:t[0],x=null==p?void 0:p.id,h=(0,f.bs)(null!==(a=null==p?void 0:p.rating)&&void 0!==a?a:0,"ui"),[,g]=(0,L.MM)(),[,v]=(0,L.x6)(),[,b]=(0,L.rY)();(0,e5.r)((0,d.useCallback)(()=>u(void 0),[]));let j=async()=>{h>0&&u(null)},y=(0,d.useMemo)(()=>eK()(async e=>{if("number"!=typeof e||x){if("number"==typeof e&&x)await v({rating:e,id:x});else{if(!A()(e)||!x)return;await b({recipe_rating_id:x})}}else await g({rating:e,recipe_id:i.id,recipe_info_id:i.info.id});r(e)},400,{leading:!0}),[v,g,b,r,i.id,i.info.id,x]);return(0,d.useEffect)(()=>{n&&void 0!==c&&(u(void 0),y(c))},[c,n,y]),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-5 sm:gap-3",children:[(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-800",children:"Your Rating"}),o&&h>0&&(0,l.jsx)(I.z,{onClick:()=>void j(),variant:"text",children:"Clear"})]}),(0,l.jsx)(e2,{from:1,highlightUpToSelected:!0,onChange:e=>{u("number"==typeof e?(0,f.bs)(e,"backend"):void 0),o||s("signup")},size:"lg",to:5,value:h})]})},e7=s()(()=>a.e(3175).then(a.bind(a,64718)).then(e=>e.ShareModal),{loadableGenerated:{webpack:()=>[64718]}}),e8=s()(()=>a.e(3804).then(a.bind(a,14063)).then(e=>e.EndVideoContent),{loadableGenerated:{webpack:()=>[14063]}}),e6={root:null,rootMargin:"-".concat(60,"px 0px 0px 0px"),threshold:[1]},e3=e=>{var t,a,i;let{isRecipeGated:n,onClickSave:r,pinterestShareImage:s,recipe:o,recipe:{campaign:c},relatedRecipes:u,thumbnail:x,videoProps:h,ad:g,show:v,refetchRecipes:b,canPersistUpdates:j,shoppabilityMode:y,isChicoryLoaded:N,ingredientsAreCorrectlyFormatted:k,stepsAreCorrectlyFormatted:_}=e,{isTastemadePlusSubscriber:C}=(0,m.qk)(),{requireAuth:S}=(0,O.Fp)(),z=h&&!n,[Z,R]=(0,d.useState)(),E=(0,d.useRef)(null),[M,F]=(0,d.useState)(!1),[L,U]=(0,d.useState)(!1),$=Q();(0,d.useEffect)(()=>{if(!z)return F(!1);let e=new IntersectionObserver(e=>{let[{isIntersecting:t,rootBounds:a,intersectionRect:i}]=e;if($){t&&U(!1);let e=!a||i.bottom<a.bottom;L||F(!t&&e),C&&F(!1)}else!M&&t&&F(!0)},e6);return E.current&&e.observe(E.current),()=>{e&&e.disconnect()}},[z,M,L,$,C]);let ee={title:o.name,pinterestImageUrl:null==s?void 0:s.url,text:null!==(i=o.description)&&void 0!==i?i:void 0,url:(0,w.JG)(o)},et=()=>{document.title=document.title.replace("|","by"),window.print(),document.title=document.title.replace("by","|")},ea=S((e,t)=>{let{closeAuthModal:a}=t;a(),setTimeout(et,300)}),ei=o.info.rating_count,el=(null===(a=o.info.comments_aggregate)||void 0===a?void 0:null===(t=a.aggregate)||void 0===t?void 0:t.count)||0,en=(0,f.bs)(o.info.overall_rating,"ui"),er=(0,d.useCallback)(e=>{!ei&&"number"==typeof e||1===ei&&A()(e)||b({requestPolicy:"network-only"})},[ei,b]),es=(0,d.useCallback)(()=>b({requestPolicy:"network-only"}),[b]),eo=!(0,K.e)("md",{disableSSR:!0}),ec=(0,f.OQ)(o),ed="shared_video"===o.related_mode&&o.videos.length>0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("article",{id:"recipe",children:[(0,l.jsxs)("div",{className:(0,D.Z)("grid-rows-[min-content, 1fr] mb-8 grid gap-5","lg:grid-cols-[1fr,min-content] lg:grid-rows-1 lg:gap-14"),children:[(0,l.jsxs)("section",{className:"space-y-3 lg:space-y-1",children:[(0,l.jsx)(Image.E,{alt:"To Tastemade Home Page",layout:"fill",src:X.Z,wrapperClassName:"relative lg:w-[180px] h-4 lg:h-[23px] w-[130px] pb-15 hidden print:inline-block"}),c&&(0,l.jsxs)("div",{className:"inline-flex h-[35px] w-full flex-wrap items-center text-p-sm font-medium print:hidden",children:["In partnership with\xa0",c.brand.logo?(0,l.jsx)(Image.E,{alt:"".concat(c.brand.name," logo"),layout:"fill",objectFit:"scale-down",objectPosition:"left",quality:25,sizes:"128px",src:c.brand.logo.url,wrapperClassName:"inline-block relative w-full max-w-[100px] h-[30px] ml-1"}):c.brand.name]}),(0,l.jsx)("h1",{className:"font-tiempos text-h-4",children:o.name}),o.description&&(0,l.jsx)("p",{className:"text-p-base",children:o.description}),(!!ei||!!el)&&(0,l.jsxs)("div",{className:"flex items-center gap-4 py-2",children:[ei>0&&(0,l.jsx)(Y.i,{count:ei,rating:en,scrollToElementId:"#ratings",size:"md"}),el>0&&(0,l.jsxs)(G.r,{className:"text-p-sm font-semibold text-black",href:"#notes",children:["Recipe Notes (",el,")"]})]}),o.author&&(0,l.jsxs)("p",{className:"text-p-base capitalize",children:["By"," ",(0,l.jsx)(G.r,{className:"text-p-sm font-semibold text-black",href:"".concat(P.nl,"?author__or=").concat(encodeURIComponent(o.author)),children:o.author})]}),ec&&(0,l.jsxs)("p",{className:"text-p-sm",children:[ec.label,": ",(0,T.Z)(ec.date,"M/d/yyyy")]})]}),(0,l.jsxs)("div",{className:(0,D.Z)("row-start-1 flex space-x-4 self-start justify-self-end","lg:col-start-2 lg:row-start-auto","print:hidden"),children:[(0,l.jsx)(I.z,{icon:"print",onClick:ea,size:"sm",variant:"stroke",children:"Print"}),(0,l.jsx)(I.z,{"aria-label":o.is_saved?"Unsave Recipe":"Save recipe",icon:"bookmark",onClick:r,size:"sm",variant:o.is_saved?"black":"stroke",children:o.is_saved?"Saved":"Save"}),(0,l.jsx)(I.z,{icon:"share",onClick:()=>{(0,W.j)()?navigator.share({title:ee.title,text:ee.text,url:ee.url}):R(!0)},size:"sm",variant:"stroke",children:"Share"})]})]}),v&&(0,l.jsxs)("div",{className:"mb-5 flex items-center gap-x-2.5 lg:mb-8",children:[v.images&&v.images[0]&&v.images[0].image&&v.images[0].image.url&&(0,l.jsx)("div",{className:"relative h-[45px] w-[80px] lg:h-[57px] lg:w-[102px]",children:(0,l.jsx)(Image.E,{alt:"Show where recipe is used",className:"rounded-md",layout:"fill",quality:50,sizes:"102px",src:(0,V.yJ)(v.images,"thumbnail","16:9")})}),(0,l.jsx)("div",{children:(0,l.jsxs)(G.r,{className:"text-black no-underline",href:(0,J.OT)(v),children:[(0,l.jsx)("p",{children:"Recipe from:"}),(0,l.jsx)("p",{className:"font-bold underline",children:v.title})]})})]}),g&&(0,l.jsx)("div",{className:"hidden sm:block print:hidden",children:(0,l.jsx)(p.D,{ad:g,layoutClassName:"sm:mb-5 md:mb-8"})}),(0,l.jsxs)("div",{className:(0,D.Z)("flex flex-col-reverse","lg:flex-row"),children:[(0,l.jsxs)("div",{className:(0,D.Z)("w-full space-y-5","lg:mr-10 lg:max-w-[564px] lg:flex-auto lg:justify-between lg:space-y-5","xl:mr-15 xl:max-w-[660px]"),children:[(0,l.jsx)(eG,{ingredientsAreCorrectlyFormatted:k,isChicoryLoaded:N,recipe:o,shoppabilityMode:y,stepsAreCorrectlyFormatted:_}),(0,l.jsx)(eV,{tags:(0,f.My)(o)}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"flex flex-col gap-7",children:[(0,l.jsxs)("div",{className:"flex scroll-mt-64 flex-col gap-7 sm:scroll-mt-20 sm:flex-row sm:justify-between sm:gap-0",id:"ratings",children:[ei>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eY,{overallRating:en,ratingCount:ei}),(0,l.jsx)("hr",{className:"sm:hidden"})]}),(0,l.jsx)(e4,{canPersistUpdates:j,onRatingChange:er,recipe:o})]}),(0,l.jsx)("hr",{}),(0,l.jsx)(ef,{notesCount:el,onNotesChange:es,recipe:o})]})]}),g&&(0,l.jsx)("div",{className:"mt-5 sm:hidden print:hidden",children:(0,l.jsx)(p.D,{ad:g})}),!eo&&ed&&(0,l.jsx)("h2",{className:"mb-5 font-tiempos text-h-6",children:o.videos[0].video_name}),(0,l.jsxs)("div",{className:(0,D.Z)("h-auto w-full max-w-[380px] self-start sm:max-w-[600px]","print:hidden",M&&"sticky-header-offset"),ref:E,children:[z?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(q.h,{"aria-label":"unsticky",color:"white",icon:"times",layoutClassName:(0,D.Z)("absolute top-2 right-2 z-[1112]",M?"block md:hidden":"hidden"),onClick:()=>{F(!1),U(!0)},size:"lg"}),(0,l.jsx)(B.Y,{EndContentComponent:(0,l.jsx)(e8,{relatedRecipes:u}),adsEnabled:!c&&!C,aspectRatio:(0,H.P)({height:h.video.height,width:h.video.width}),autoplayDelay:2500,height:h.video.height,maxPosterImageWidth:640,posterImageSrc:h.posterImageUrl,sources:[{src:h.video.url}],tracks:(0,H.j)(h),width:h.video.width},o.id)]}):(0,l.jsx)(Image.E,{alt:"Recipe image thumbnail",height:x.height,priority:!0,quality:50,sizes:"640px",src:x.url,width:x.width}),eo&&ed&&(0,l.jsx)("h2",{className:"mb-5 font-tiempos text-h-6",children:o.videos[0].video_name})]})]})]}),"boolean"==typeof Z&&(0,l.jsx)(e7,{onClose:()=>R(!1),open:Z,shareData:ee,title:"Share Recipe"})]})};var e9=a(74741),te=a(13404);let tt=e=>{let{relatedMode:t,relatedRecipes:a,handleClickSaveRecipe:i}=e,n=async e=>{i(e)},r="shared_video"===t?"".concat(a.length," Other Recipes in This Video"):"More Recipes Like This";return a.length>0?(0,l.jsxs)("div",{className:"space-y-5 print:hidden",children:[(0,l.jsx)("h2",{className:"mb-5 font-tiempos text-h-5",children:r}),(0,l.jsx)(e9.l,{a11yId:"related-recipes-carousel",children:a.map(e=>(0,l.jsx)("div",{className:"overflow-hidden px-2 first:pl-0",children:(0,l.jsx)(te.v,{onClickSave:n,recipe:e})},e.id))}),(0,l.jsx)(G.r,{className:"block text-center text-p-sm font-semibold text-black",href:P.nl,children:"View All Recipes"})]}):null},ta=s()(()=>a.e(279).then(a.bind(a,89411)).then(e=>e.RecipeSaveModal),{loadableGenerated:{webpack:()=>[89411]}}),ti=s()(()=>a.e(4967).then(a.bind(a,52150)).then(e=>e.TastemadePlusUpsellModal),{loadableGenerated:{webpack:()=>[52150]}}),tl=()=>{let e=(0,k.a)("(max-width: ".concat(C.AV.lg,") and (hover: none) and (pointer: coarse)"));return e?"landscape":"square"},tn=e=>{var t,a,r;let{slug:s,language:h,show:v,ingredientsAreCorrectlyFormatted:b,stepsAreCorrectlyFormatted:k}=e,{data:C}=j(),{push:S,isReady:z,query:Z}=(0,o.useRouter)(),{tokenLoaded:R}=(0,u.ic)(),{userId:I,isTastemadePlusSubscriber:M,isLoggedIn:D}=(0,m.qk)(),T=tl(),[U,A]=(0,d.useState)(),[O,q]=(0,d.useState)(!1),[G,Y]=(0,L.TG)({pause:!h||!s,variables:{language:h,slug:s}}),B=null===(t=G.data)||void 0===t?void 0:t.recipes[0],J=(0,N.N)({page:"recipeDetail",disableAds:!!(null==B?void 0:B.campaign)});(0,d.useEffect)(()=>{(null==B?void 0:B.id)&&h&&s||(0,n.Tb)(Error("recipe page attempted to render without recipe data"),{extra:{props:{slug:s,language:h,show:v},routerIsReady:z,hasSessionToken:R,hasLoggedInUser:D}})},[null==B?void 0:B.id,h,s,z,R,D,v]),(0,_.v)(()=>{(null==B?void 0:B.id)&&(A(void 0),(0,w.b)(B,I,M)||A(!0))},[null==B?void 0:B.id,null==B?void 0:B.campaign,I,M],{runOnInitialRender:!0});let[W,V]=(0,x.u)({onToggleRecipeSaveCallback:()=>Y({requestPolicy:"cache-and-network"})}),[H,K]=(0,d.useState)("true"===Z[P.ND]);(0,d.useEffect)(()=>{D&&B&&!B.is_saved&&H&&(K(!1),W(B))},[W,B,H,D]),(0,_.v)(()=>{Y({requestPolicy:"cache-and-network"})},[]);let[Q,X]=(0,d.useState)("string"==typeof I||void 0);(0,d.useEffect)(()=>{!0===Q||(void 0===Q&&I&&G.stale&&X(!1),!1!==Q||!I||G.fetching||G.stale||X(!0))},[Q,I,G.fetching,G.stale]);let[{data:$},ee]=(0,L.Qw)({pause:!B||!B.id,variables:{id:B?B.id:""}});(0,_.v)(()=>{ee({requestPolicy:"cache-and-network"})},[]);let et=(0,f.wj)($);if(!B)return null;let ea=(0,w.VY)(B,T),ei=(0,w.l1)(B,T),el=(0,w.Ap)(B),en=(null==C?void 0:null===(a=C.country)||void 0===a?void 0:a.toLowerCase())==="us",er=B.info.shopping_link_mode===y.sIF.Override&&!!B.info.shopping_link,es=(!B.info.shopping_link_mode||B.info.shopping_link_mode===y.sIF.Default)&&en;return ea||ei?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.PB,{description:null!==(r=B.description)&&void 0!==r?r:void 0,openGraph:(0,w.fz)(B),title:B.name}),(0,l.jsx)(g,{recipe:B,thumbnail:ea,video:null==ei?void 0:ei.video}),(0,l.jsx)(E,{disabled:!es,onReady:()=>q(!0),slug:B.slug}),(0,l.jsx)(F,{}),(0,l.jsxs)("div",{className:"container mx-auto space-y-5 px-4 py-10 lg:space-y-10 xl:p-15 print:px-0",children:[(0,l.jsx)(e3,{ad:J[0],canPersistUpdates:Q,ingredientsAreCorrectlyFormatted:b,isChicoryLoaded:O,isRecipeGated:U||!1,onClickSave:()=>{B&&W(B)},pinterestShareImage:el,recipe:B,refetchRecipes:Y,relatedRecipes:et,shoppabilityMode:er?y.sIF.Override:es?y.sIF.Default:y.sIF.Disabled,show:v,stepsAreCorrectlyFormatted:k,thumbnail:ea,videoProps:ei}),(0,l.jsx)("hr",{className:"print:hidden"}),J[1]&&(0,l.jsx)("div",{className:"print:hidden",children:(0,l.jsx)(p.D,{ad:J[1]})}),B.related_mode&&(0,l.jsx)(tt,{handleClickSaveRecipe:W,relatedMode:B.related_mode,relatedRecipes:et}),J[2]&&(0,l.jsx)("div",{className:"print:hidden",children:(0,l.jsx)(p.D,{ad:J[2]})})]}),"boolean"==typeof V.open&&(0,l.jsx)(ta,(0,i._)({appear:!0},V)),"boolean"==typeof U&&(0,l.jsx)(ti,{gateType:"ViewedRecipes",onClose:()=>void S("/recipes"),open:U,recipe:B})]}):null};tn.pageType=S.G.RECIPE,tn.layout=e=>{let{children:t}=e;return(0,l.jsx)(v.Z,{fullWidth:!0,printLayout:!0,children:t})};var tr=!0},21789:function(e){e.exports={carouselContainer:"swiper_carouselContainer__yrrF1"}}},function(e){e.O(0,[2544,8764,8510,9145,6759,5504,5587,6671,9228,7657,7729,1037,9535,1809,1192,9774,2888,179],function(){return e(e.s=34871)}),_N_E=e.O()}]);