"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1037],{49407:function(e,t,s){s.d(t,{X:function(){return u}});var l=s(20567),a=s(47702),r=s(85893),n=s(86010),i=s(67294),o=s(73153);let c=e=>{let{disabled:t,status:s}=e;return(0,n.Z)({"w-5 h-5 rounded-sm peer":!0,"text-gray-200 bg-gray-200":t,"hover:shadow-ring-gray focus:shadow-ring-blue bg-white":!t,"text-black border-black":!t&&"default"===s,"text-red-600 border-red-600":!t&&"error"===s,"text-green-500 border-green-500":!t&&"success"===s})},d=e=>({"text-base":"md"===e,"text-sm":"sm"===e,"text-xs":"xs"===e}),u=(0,i.forwardRef)((e,t)=>{var{status:s="default",disabled:i,readOnly:u,required:m,label:x,marginTop:p,reverse:h,onChange:g,bold:f=!0,size:w="md"}=e,b=(0,a._)(e,["status","disabled","readOnly","required","label","marginTop","reverse","onChange","bold","size"]);let j=(0,o.x)({disabled:i,readOnly:u,required:m,status:s}),y=(0,r.jsxs)(r.Fragment,{children:[x,j.required&&(0,r.jsx)("span",{className:"leading-2 h-2 text-sm font-bold text-red-600",children:"\xa0*"})]});return(0,r.jsxs)("label",{className:(0,n.Z)("flex w-fit items-center justify-start",d(w),p&&"mt-2",h&&"flex-row-reverse"),htmlFor:b.id,children:[(0,r.jsx)("input",(0,l._)({"aria-invalid":"error"===j.status?"true":"false",className:c(j),disabled:j.disabled,onChange:e=>{g&&g(e)},readOnly:j.readOnly,ref:t,required:j.required,type:"checkbox"},b)),x&&(0,r.jsxs)("div",{className:(0,n.Z)("relative",h?"mr-3":"ml-3",f&&"peer-checked:font-medium peer-checked:tracking-small"),children:[(0,r.jsx)("span",{"aria-hidden":!0,className:"invisible select-none font-medium tracking-small",children:y}),(0,r.jsx)("span",{className:(0,n.Z)({"absolute bottom-0 left-0 right-[-2px] top-0 font-graphik":!0,"text-gray-500":j.disabled,"text-red-600":!j.disabled&&"error"===j.status,"text-green-500":!j.disabled&&"success"===j.status}),children:y})]})]})});u.displayName="Checkbox"},84917:function(e,t,s){s.d(t,{R:function(){return c}});var l=s(20567),a=s(14932),r=s(47702),n=s(85893);s(67294);var i=s(87536),o=s(49407);let c=e=>{var{onBlur:t,onChange:s}=e,c=(0,r._)(e,["onBlur","onChange"]);let{register:d,control:u}=(0,i.Gc)(),{ref:m,name:x,onChange:p,onBlur:h}=d(c.name),{errors:g}=(0,i.cl)({name:x,control:u}),f=g[x];return(0,n.jsx)(o.X,(0,a._)((0,l._)({ref:m},c),{id:x,name:x,onBlur:e=>{h(e),null==t||t(e)},onChange:e=>{p(e),null==s||s(e)},status:f?"error":"default"}))}},70327:function(e,t,s){s.d(t,{b:function(){return c}});var l=s(85893),a=s(86010);s(67294);var r=s(42630),n=s(9419);let i=e=>"red"===e?"bg-red-200 text-red-600":"green"===e?"bg-green-200 text-green":"yellow"===e?"bg-yellow-200 text-black":"purple"===e?"bg-purple-200 text-purple":"blue"===e?"bg-blue-200 text-blue":"bg-gray-200 text-black",o=e=>"gray"===e||"yellow"===e?"black":e,c=e=>{let{children:t,color:s="gray",icon:c,onClose:d,layoutClassName:u,alignLeft:m=!1,fullWidth:x=!1}=e;return(0,l.jsxs)("div",{className:(0,a.Z)("flex items-center justify-center rounded p-2 font-medium",i(s),x&&"w-full",u),children:[(0,l.jsxs)("div",{className:(0,a.Z)("flex flex-1 items-center space-x-2 text-center text-sm",!m&&"justify-center"),children:[c&&(0,l.jsx)(n.J,{color:o(s),icon:c}),(0,l.jsx)("span",{children:t})]}),d&&(0,l.jsx)(r.h,{"aria-label":"",color:o(s),icon:"times",layoutClassName:"ml-auto",onClick:d})]})}},46133:function(e,t,s){s.d(t,{i:function(){return g}});var l=s(85893),a=s(86010),r=s(67294),n=s(87536),i=s(42630),o=s(96116),c=s(20567),d=s(14932),u=s(44612);let m=e=>{let{children:t,AdornmentProps:s}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(u.o,(0,d._)((0,c._)({},s),{children:t}))})};var x=s(9419);let p=[">7 characters","1 lowercase letter","1 capital letter","1 number"],h=e=>{let{name:t,size:s,onRequirementsValidated:i}=e,o=(0,n.qo)({name:t}),{errors:c}=(0,n.cl)(),[d,u]=(0,r.useState)([!1,!1,!1,!1]);(0,r.useEffect)(()=>{let e=null!=o?o:"",[t,s,l,a]=[e.length>7,/[a-z]/.test(e),/[A-Z]/.test(e),/\d/.test(e)];u([t,s,l,a]),i([t,s,l,a].every(Boolean))},[o,i]);let m=c.password||c.password_confirmation;return(0,l.jsx)("ul",{className:(0,a.Z)("list-inside","sm"===s?"space-y-[5px] py-2 ":"py-3 text-2xl"),children:p.map((e,t)=>{let r=d[t];return(0,l.jsxs)("li",{className:(0,a.Z)("sm"===s&&"text-xs"),children:[(0,l.jsx)(x.J,{color:r?"green":"gray",icon:r?"check":"circle",layoutClassName:"pr-2.5",size:"sm"===s?"2xs":"xs"}),(0,l.jsx)("span",{className:(0,a.Z)("sm"===s?"text-sm":"text-base",r?"text-green":m?"text-red":"text-gray"),children:e})]},e)})})},g=e=>{let{autoComplete:t,autoFocus:s,confirmPassword:c,hasRequirements:d,helpText:u,label:x,name:p,layoutClassName:g,size:f="md"}=e,[w,b]=(0,r.useState)(!1),j=(0,n.qo)({name:p}),{errors:y}=(0,n.cl)(),[v,A]=(0,r.useState)(!1),N=e=>{e.preventDefault(),A(e=>!e)},F=e=>{((null==e?void 0:e.key)==="Enter"||(null==e?void 0:e.key)===" "||(null==e?void 0:e.key)==="Spacebar")&&A(e=>!e)},k=y.password||y.password_confirmation,E=!k&&(d&&w||c&&j===c);return(0,l.jsxs)("div",{className:(0,a.Z)(g),children:[(0,l.jsx)(o.n,{InputHelpTextProps:{status:k?"error":"default"},InputProps:{autoComplete:t,EndAdornment:(0,l.jsxs)(l.Fragment,{children:[E&&(0,l.jsx)(m,{AdornmentProps:{position:"end"},children:(0,l.jsx)(i.h,{"aria-label":"",color:"green",icon:"check",layoutClassName:"px-7",size:"xl"})}),k&&(0,l.jsx)(m,{AdornmentProps:{position:"end"},children:(0,l.jsx)(i.h,{"aria-label":"",color:"red",icon:"times",layoutClassName:"px-7",size:"xl"})}),(0,l.jsx)(m,{AdornmentProps:{disablePointerEvents:!1,position:"end"},children:(0,l.jsx)(i.h,{"aria-label":"",color:v?"black":"gray",icon:v?"eye-open":"hide-password",onKeyDown:e=>F(e),onMouseDown:e=>N(e)})})]}),status:k?"error":"default"},autoFocus:s,disableHelpText:d,helpText:k?u:"",id:p,label:x,name:p,required:!0,type:v?"text":"password"}),d&&(0,l.jsx)(h,{name:p,onRequirementsValidated:b,size:f})]})}},29696:function(e,t,s){s.d(t,{Z:function(){return w}});var l=s(85893),a=s(11163),r=s(67294),n=s(16310),i=s(9253),o=s(66016),c=s(38859),d=s(88309),u=s(28220),m=s(28511),x=s(96116),p=s(58967),h=s(76469),g=s(43423);let f=n.Ry({user_id:n.Z_().trim().required("Please provide a user id to impersonate"),otp:n.Z_().matches(/^\d+$/,"Your MFA code should contain numbers only").min(6,"Your MFA code should be 6 digits long").max(6,"Your MFA code should be 6 digits long").required("Please provide your MFA code")}),w=()=>{let[e,t]=(0,r.useState)(""),{impersonate:s}=(0,i.u)(),{closeAuthModal:n}=(0,o.Fp)(),{isImpersonator:w}=(0,c.qk)(),{query:b,push:j,reload:y}=(0,a.useRouter)(),v=b.userId,[,A]=(0,g.Cv)();if(!w)return null;let N=async(e,l)=>{var a,r;let{user_id:i,otp:o}=e,{setError:c}=l,{data:d,error:u}=await A({user_id:i},(0,p.tk)({otp:o}));if(t(""),u){let{message:e,field:s}=(0,h.iZ)(u);return s?c(s,{type:"manual",message:e}):t(e)}(null==d?void 0:null===(a=d.users_impersonate)||void 0===a?void 0:a.impersonation_token)&&s(null===(r=d.users_impersonate)||void 0===r?void 0:r.impersonation_token,async()=>{n(),j("/").then(()=>y())})};return(0,l.jsxs)("div",{className:"space-y-4 px-4 py-7",children:[(0,l.jsxs)("ul",{className:"list-inside list-disc",children:[(0,l.jsx)("li",{children:"The impersonation session will expire after 10 minutes."}),(0,l.jsx)("li",{children:"Actions taken from an impersonated user will be logged."}),(0,l.jsxs)("li",{children:["The user id can be looked up in the"," ",(0,l.jsx)(u.r,{href:"/admin/users",target:"_blank",children:"admin panel"}),"."]})]}),(0,l.jsx)(m.U,{className:"w-full",defaultValues:{user_id:"string"==typeof v?v:""},delayError:200,onSubmit:N,schema:f,shouldFocusError:!0,shouldUnregister:!1,children:t=>{let{formState:{isSubmitting:s}}=t;return(0,l.jsxs)("div",{className:"mx-auto mt-4 flex max-w-3xl flex-col gap-7",children:[(0,l.jsx)(x.n,{label:"User Id to Impersonate",name:"user_id"}),(0,l.jsx)(x.n,{label:"MFA Code",name:"otp"}),e&&(0,l.jsx)("span",{className:"mt-2 block text-center text-xs text-red",children:e}),(0,l.jsx)(d.z,{disabled:s,showLoading:s,type:"submit",variant:"yellow",children:"Impersonate"})]})}})]})}},41722:function(e,t,s){s.d(t,{U:function(){return j}});var l=s(85893),a=s(64487),r=s(67294),n=s(66016),i=s(56692),o=s(88309),c=s(28220),d=s(28511),u=s(46133),m=s(96116),x=s(52840),p=s(31621),h=s(76469),g=s(89048),f=s(43423),w=s(31116),b=s(41037);let j=e=>{let{onClickSignUp:t,onClickForgotPassword:s,onAuthSuccess:j,hideRecaptcha:y=!1,client:v=w.LY.web}=e,{executeRecaptcha:A,isRecaptchaLoaded:N}=(0,g.C)(),{setAuthModalView:F,setAuthMethod:k}=(0,n.Fp)(),{login:E}=(0,i.ic)(),C=sessionStorage.getItem(p.RK)||"",[,_]=(0,f.AT)(),[S,P]=(0,r.useState)(""),T=async(e,t)=>{let{setError:s}=t;P(""),e.client=v,e.wants_newsletter=!0;try{await A("login")}catch(e){(0,a.Tb)(e),P(h.Ks);return}let{data:l,error:r}=await _(e);if(r){let{message:e,field:t}=(0,h.Hl)(r,"login");t?s(t,{message:e,type:"manual"}):P(e);return}l&&l.users_login_with_email&&(k("email"),await E(l.users_login_with_email.access_token,(e,t)=>{let{closeAuthModal:s}=t;return s()}),null==j||j())},L=async(e,t)=>{k(t),await E(e.access_token,(e,t)=>{let{closeAuthModal:s}=t;return s()}),null==j||j()};return(0,l.jsx)(d.U,{className:"w-full",defaultValues:{email:C,wants_newsletter:!0},delayError:200,onSubmit:T,schema:w.y1,shouldFocusError:!0,shouldUnregister:!1,children:e=>{let{formState:{isSubmitting:a,isSubmitSuccessful:r}}=e,n=a||r&&!S;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-6 sm:gap-5",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(b.P,{client:v,emailLoginErrorMessage:S,mode:"login",onAuthSuccess:L,setEmailLoginErrorMessage:P})}),(0,l.jsx)("span",{className:"font-medium lg:mt-1.5 lg:text-sm",children:"Or"}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"grid w-full gap-6 lg:grid-cols-2",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(m.n,{InputProps:{autoComplete:"username"},label:"Email",name:"email",required:!0,type:"email"})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(u.i,{autoComplete:"current-password",autoFocus:!!C,label:"Password",name:"password"})}),(0,l.jsx)("div",{className:"flex justify-end lg:col-span-2",children:(0,l.jsx)(o.z,{onClick:()=>s?s():F("resetPasswordEmail"),size:"sm",variant:"text",children:"Forgot Password?"})})]}),(0,l.jsxs)("div",{className:"mt-6 space-y-6 lg:space-y-9",children:[(0,l.jsxs)("div",{className:"text-p-xs lg:w-96",children:["By logging in, you agree to Tastemade's"," ",(0,l.jsx)(c.r,{"aria-label":"Tastemade Terms of Service",className:"font-semibold text-black",href:"/terms",target:"_blank",children:"Terms"})," ","and"," ",(0,l.jsx)(c.r,{"aria-label":"Tastemade Privacy Policy",className:"font-semibold text-black",href:"/privacy",target:"_blank",children:"Privacy Policy."})]}),(0,l.jsxs)("div",{className:"w-full lg:m-auto lg:w-64",children:[(0,l.jsx)(o.z,{disabled:n||!N,fullWidth:!0,showLoading:n||!N,type:"submit",variant:"yellow",children:"Log In"}),S&&(0,l.jsx)("span",{className:"mt-2 block text-center text-xs text-red",children:S})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("span",{children:"New User?\xa0"}),(0,l.jsx)(o.z,{onClick:()=>t?t():F("signup"),size:"sm",variant:"text",children:"Sign Up Now!"})]})]})]}),!y&&(0,l.jsx)(x.u,{})]})}})};j.displayName="LoginForm"},52840:function(e,t,s){s.d(t,{u:function(){return n}});var l=s(85893),a=s(86010);s(67294);let r=e=>"black"===e?"text-black":"text-white",n=e=>{let{color:t="black"}=e;return(0,l.jsxs)("div",{className:(0,a.Z)("mx-auto text-center text-xs",r(t)),children:["This site is protected by reCAPTCHA and the Google"," ",(0,l.jsx)("a",{"aria-label":"Google Privacy Policy",className:(0,a.Z)("font-semibold",r(t)),href:"https://policies.google.com/privacy",rel:"noreferrer",target:"_blank",children:"Privacy Policy"})," ","and"," ",(0,l.jsx)("a",{"aria-label":"Google Terms of Service",className:(0,a.Z)("font-semibold",r(t)),href:"https://policies.google.com/terms",rel:"noreferrer",target:"_blank",children:"Terms of Service"})," ","apply."]})}},37533:function(e,t,s){s.d(t,{K:function(){return w}});var l=s(85893),a=s(64487),r=s(89755),n=s.n(r),i=s(67294),o=s(66016),c=s(88309),d=s(28511),u=s(96116),m=s(52840),x={src:"/_next/static/media/reset-password.aa242207.svg",height:211,width:215,blurWidth:0,blurHeight:0},p=s(76469),h=s(89048),g=s(43423),f=s(31116);let w=e=>{let{onClickLogin:t,hideRecaptcha:s=!1}=e,{executeRecaptcha:r,isRecaptchaLoaded:w}=(0,h.C)(),{setAuthModalView:b}=(0,o.Fp)(),[j,y]=(0,i.useState)(!1),[v,A]=(0,i.useState)(""),[,N]=(0,g._X)(),F=async e=>{A("");try{await r("resetPasswordEmail")}catch(e){(0,a.Tb)(e),A(p.Ks);return}let{error:t}=await N(e);if(t)return A((0,p.Hl)(t,"resetPasswordEmail").message);y(!0)};return(0,l.jsxs)("div",{className:"flex flex-col gap-6 md:px-10 lg:gap-10",children:[(0,l.jsx)(d.U,{className:"flex w-full flex-col items-center space-y-8",delayError:200,onSubmit:F,schema:f.at,shouldFocusError:!0,shouldUnregister:!1,children:e=>{let{formState:{isSubmitting:s}}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mb-10 block text-center text-sm font-normal md:mb-12 md:px-6 lg:mb-12",children:"Enter the email address associated with your Tastemade account, and we'll email you a link to reset your password"}),(0,l.jsx)("div",{className:"mx-auto my-0 w-40 md:w-44",children:(0,l.jsx)(n(),{alt:"Reset Password",height:211,layout:"responsive",src:x,width:214})}),j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-md mb-10 block text-center font-normal md:mb-12 md:px-6 lg:mb-12",children:"Recovery email has been sent!"}),(0,l.jsx)(c.z,{fullWidth:!0,onClick:()=>t?t():b("login"),variant:"stroke",children:"Back to Login"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.n,{InputProps:{autoCapitalize:"off"},fullWidth:!0,label:"Email",name:"email",required:!0,type:"email"}),(0,l.jsxs)("div",{className:"mt-8 flex flex-col items-center justify-center space-y-8 lg:mt-12 lg:space-y-10",children:[(0,l.jsxs)("div",{className:"w-full lg:m-auto lg:w-64",children:[(0,l.jsx)(c.z,{disabled:s||!w,fullWidth:!0,type:"submit",variant:"yellow",children:"Submit"}),v&&(0,l.jsx)("span",{className:"mt-2 block text-center text-xs text-red",children:v})]}),(0,l.jsx)(c.z,{fullWidth:!0,onClick:()=>t?t():b("login"),variant:"stroke",children:"Back to Login"})]})]})]})}}),!s&&(0,l.jsx)(m.u,{})]})};w.displayName="ResetPasswordEmailForm"},69555:function(e,t,s){s.d(t,{W:function(){return y}});var l=s(85893),a=s(64487),r=s(67294),n=s(56692),i=s(66016),o=s(88309),c=s(84917),d=s(28220),u=s(28511),m=s(46133),x=s(96116),p=s(52840),h=s(38227),g=s(76469),f=s(89048),w=s(43423),b=s(31116),j=s(41037);let y=e=>{let{onClickLogIn:t,onAuthSuccess:s,hideRecaptcha:y=!1,client:v=b.LY.web,partner:A,showUpsellAfterAuth:N}=e,{executeRecaptcha:F,isRecaptchaLoaded:k}=(0,f.C)(),{login:E}=(0,n.ic)(),{setAuthModalView:C,setAuthMethod:_}=(0,i.Fp)(),[,S]=(0,w.b3)(),[P,T]=(0,r.useState)(""),L=(0,h.Ks)(),[,D]=(0,w.Qt)(),U=async(e,t)=>{let{setError:s}=t;T(""),v&&(e.client=v),A&&(e.partner=A);try{await F("signup")}catch(e){(0,a.Tb)(e),T(g.Ks);return}let{data:l,error:r}=await S(e);if(r){let{message:e,field:t}=(0,g.Hl)(r,"signup");t?s(t,{message:e,type:"manual"}):T(e);return}if(!l||!l.users_signup_with_email)return;let{access_token:n}=l.users_signup_with_email;R(n,"email")},R=async(e,t)=>{if(_(t),await E(e,(e,t)=>{let{closeAuthModal:s}=t;N||s()}),L)try{await D({feature:L})}catch(e){(0,a.Tb)(e)}N?C("upsell"):null==s||s()},z=async(e,t)=>{await R(e.access_token,t)};return(0,l.jsx)(u.U,{className:"w-full",defaultValues:b.fb.getDefault(),delayError:200,onSubmit:U,schema:b.fb,shouldFocusError:!0,shouldUnregister:!1,children:e=>{let{formState:{isSubmitting:s,isSubmitSuccessful:a}}=e,r=s||a&&!P;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(j.P,{client:v,emailLoginErrorMessage:P,mode:"signup",onAuthSuccess:z,setEmailLoginErrorMessage:T})}),(0,l.jsx)("span",{className:"font-medium lg:mt-1.5 lg:text-sm",children:"Or"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(x.n,{autoCapitalize:"off",label:"Email",name:"email",required:!0,type:"email"})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(m.i,{autoComplete:"new-password",hasRequirements:!0,label:"Password",name:"password"})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(c.R,{bold:!1,label:"Keep me in the loop with weekly recipes, tips, show recommendations, and more from Tastemade.",name:"wants_newsletter",size:"xs"})})]}),(0,l.jsxs)("div",{className:"mt-7 space-y-7 lg:space-y-9",children:[(0,l.jsxs)("div",{className:"text-p-xs lg:m-auto lg:-mt-2.5 lg:w-96",children:["By signing up, you agree to Tastemade's"," ",(0,l.jsx)(d.r,{"aria-label":"Tastemade Terms of Service",className:"font-semibold text-black",href:"/terms",target:"_blank",children:"Terms"})," ","and"," ",(0,l.jsx)(d.r,{"aria-label":"Tastemade Privacy Policy",className:"font-semibold text-black",href:"/privacy",target:"_blank",children:"Privacy Policy."})]}),(0,l.jsxs)("div",{className:"w-full lg:m-auto lg:w-64",children:[(0,l.jsx)(o.z,{disabled:r||!k,fullWidth:!0,showLoading:r||!k,type:"submit",variant:"yellow",children:"Sign Up"}),P&&(0,l.jsx)("span",{className:"mt-2 block text-center text-xs text-red",children:P})]}),(0,l.jsxs)("div",{className:"text-center text-sm",children:[(0,l.jsx)("span",{children:"Already have an account?\xa0"}),(0,l.jsx)(o.z,{onClick:()=>t?t():C("login"),size:"sm",variant:"text",children:"Log In!"})]})]})]}),!y&&(0,l.jsx)(p.u,{})]})}})};y.displayName="SignUpForm"},41037:function(e,t,s){s.d(t,{P:function(){return w}});var l=s(20567),a=s(14932),r=s(85893),n=s(86426),i=s(67294),o=s(87536),c=s(17931),d=s(60822),u=s(70493),m=s(48117),x=s(74826),p=s(89822),h=s(76469),g=s(43898);let f=e=>{let{emailLoginErrorMessage:t,setEmailLoginErrorMessage:s,mode:l,googleOAuthScriptLoadError:a,onAuthSuccess:n,client:c}=e,[h,f]=(0,i.useState)(a),[w,b]=(0,i.useState)(),j=e=>b(e),y=async(e,t)=>{f(""),b(void 0),s(""),n(e,t)};(0,i.useEffect)(()=>{t?b(void 0):a&&(f(a),b(a))},[t,a]);let v=(0,o.qo)({name:"wants_newsletter"}),A=(0,d.WP)(),N=(0,u.d)(),F=(0,g.Ie)({mode:l,isMobile:N,provider:"Apple"}),k=(0,g.Ie)({mode:l,isMobile:N,provider:"Google"}),E=(0,g.Ie)({mode:l,isMobile:N,provider:"Facebook"});return(0,r.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-5",children:[(0,r.jsx)("p",{className:"hidden text-sm font-medium leading-4 sm:block",children:"signup"===l?"Sign Up With:":"Log In With:"}),(0,r.jsxs)("div",{className:"flex w-full flex-col justify-center space-y-3.5 sm:flex-row sm:space-x-3.5 sm:space-y-0",children:[(0,r.jsx)(p.$,{errorMessage:h||w,label:k,mode:l,onClick:()=>b(""),onError:j,onSuccess:y,wantsNewsletter:v}),(0,r.jsx)(m.E,{client:c,label:F,wantsNewsletter:v}),(0,r.jsx)(x.k,{errorMessage:w,label:E,mode:l,onClick:()=>b(""),onError:j,onSuccess:y,wantsNewsletter:v})]}),A&&(0,r.jsxs)("div",{className:"mt-1.5 hidden text-center text-xs sm:inline",children:["login"===l?"Log In":"Sign Up"," with Google isn't supported in in-app browsers."]}),w&&(0,r.jsx)("span",{className:"mt-2 block text-center text-xs text-red",children:w})]})},w=e=>{let t=(0,d.WP)(),[s,o]=(0,i.useState)();return(0,r.jsx)(n.rg,{clientId:c.$u,onScriptLoadError:()=>o(t?void 0:h.Ks),children:(0,r.jsx)(f,(0,a._)((0,l._)({},e),{googleOAuthScriptLoadError:s}))})}},43898:function(e,t,s){s.d(t,{R3:function(){return $},iM:function(){return et},_D:function(){return Y},Ie:function(){return ee}});var l=s(85893),a=s(18799),r=s(29696),n=s(41722),i=s(37533),o=s(47702),c=s(64487),d=s(22521),u=s(11163),m=s(67294),x=s(66016),p=s(88309),h=s(70327),g=s(28511),f=s(87536),w=s(46133);let b=e=>{let{autoComplete:t,confirmPasswordName:s,hasRequirements:a,helpText:r,label:n,name:i,layoutClassName:o}=e,c=(0,f.qo)({name:s});return(0,l.jsx)(w.i,{autoComplete:t,confirmPassword:c,hasRequirements:a,helpText:r,label:n,layoutClassName:o,name:i})};var j=s(52840),y=s(31621),v=s(70762),A=s(76469),N=s(89048),F=s(43423),k=s(31116);let E=()=>{let{query:e,replace:t,push:s}=(0,u.useRouter)(),a=e.access_token,{executeRecaptcha:r,isRecaptchaLoaded:n}=(0,N.C)(),{setAuthModalView:i,closeAuthModal:f,openAuthModal:E}=(0,x.Fp)(),[C,_]=(0,m.useState)(""),[,S]=(0,F.$T)(),[P,T]=(0,m.useState)(!1),[L,D]=(0,m.useState)(),U=(0,m.useCallback)(async()=>{await s("/"),f()},[s,f]),R=async e=>{var t;if("string"!=typeof a)return _("Missing or invalid reset token");_("");try{await r("resetPassword")}catch(e){(0,c.Tb)(e),_(A.Ks);return}let{data:l,error:n}=await S({token:a,password:e.password});if(n){let e=(0,A.sD)(n);return _((null==e?void 0:e.message)||n.message)}let i=null==l?void 0:null===(t=l.users_finish_recovery)||void 0===t?void 0:t.email;i&&sessionStorage.setItem(y.RK,i);let o=(0,d.t5)(a);o.return_path&&(0,v.w)(o.return_path,{allowQueryParams:!0})?(D(o.return_path),await s(o.return_path),f()):T(!0)};return(0,m.useEffect)(()=>{if("string"==typeof a)return;let s=async()=>{let{access_token:s}=e,l=(0,o._)(e,["access_token"]);await t({query:l},void 0,{shallow:!0}),L||i("resetPasswordEmail")};s()},[e,t,a,i,L]),(0,l.jsxs)("div",{className:"flex flex-col gap-6 md:px-10 lg:gap-10",children:[(0,l.jsx)(g.U,{className:"flex w-full flex-col items-center justify-center space-y-8",defaultValues:k.gf.getDefault(),delayError:200,onSubmit:R,schema:k.gf,shouldFocusError:!0,shouldUnregister:!1,children:e=>{let{formState:{isSubmitting:t}}=e;return P?(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"text-md mb-10 block text-center font-normal md:mb-12 md:px-6 lg:mb-12",children:["Your password has been reset.",(0,l.jsx)("br",{})," Please log in with your new credentials."]}),(0,l.jsx)("span",{className:"flex justify-center",children:(0,l.jsx)(p.z,{onClick:()=>E("login",U),variant:"stroke",children:"Go to Login"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.i,{autoComplete:"new-password",hasRequirements:!0,label:"New Password",layoutClassName:"w-full pt-10",name:"password"}),(0,l.jsx)(b,{autoComplete:"new-password",confirmPasswordName:"password",label:"Confirm New Password",layoutClassName:"w-full",name:"password_confirmation"}),(0,l.jsxs)("div",{className:"mt-8 flex flex-col justify-center space-y-8 lg:mt-12 lg:space-y-10",children:[(0,l.jsx)("div",{className:"w-full lg:m-auto lg:w-64",children:(0,l.jsx)(p.z,{disabled:t||!n,fullWidth:!0,type:"submit",variant:"yellow",children:"Submit"})}),C&&(0,l.jsx)(h.b,{color:"red",icon:"exclamation-triangle",layoutClassName:"mt-4 w-full",children:C}),(0,l.jsx)(p.z,{layoutClassName:"flex self-center",onClick:()=>E("login",U),variant:"text",children:"Back to Login"})]})]})}}),(0,l.jsx)(j.u,{})]})};E.displayName="ResetPasswordForm";var C=s(69555),_=s(20567),S=s(14932),P=s(86010),T=s(25675),L=s.n(T),D=s(75706),U=s(9419),R=s(10683),z=s(76184),I=s(70267),W=s(41679),B=s(32737),q=s(44130),M=s(12463),G=s(96124),K=s(38213);let V=["Over 12,000 recipes","Weekly meal plans","Cooking how-to videos","A personal Virtual Recipe Box","1,000+ hours of food and lifestyle shows","Exclusive event access"],Z={alt:"Tastemade Plus preview image","aria-hidden":!0,priority:!0,loading:"eager",fill:!0},{props:{srcSet:O}}=(0,T.unstable_getImgProps)((0,S._)((0,_._)({},Z),{src:{src:"/_next/static/media/upsell-desktop.bde9de3c.png",height:2379,width:1929,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAUVBMVEX+7eqziHr/4t3HsKn8+ffl2NXf19X86uf/8vDCu7TeradEPELn4uGylo71i3zWsan+inuxb1n/wLY7JR3S19CzrqGcgoVgKiJ6ZGSTenz/o5WX2FO7AAAACXBIWXMAACE4AAAhOAFFljFgAAAAN0lEQVR4nAXBCQLAEAwAwUVIQm96/v+hnWGLCnAsIRnkdQ+qFJ+fKzLJaN0pfra7Qk5v/cBMhB8uGAG+gWhmrwAAAABJRU5ErkJggg==",blurWidth:6,blurHeight:8}})),Q=(0,T.unstable_getImgProps)((0,S._)((0,_._)({},Z),{src:{src:"/_next/static/media/upsell-mobile.5a229ad2.png",height:846,width:1080,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAYFBMVEX+7er99vSDbGfq6Ofo3tXh1tT/6ebGw8D+3dfd3tqglIizfGT/rqHMr6nQz87QbV4SBw2tnI5STFKJdn26W1JQKh3s3Nvxy8i6lY5GSFRlOjSVeWahdGc2LziogXi8eGHikiI1AAAACXBIWXMAACE4AAAhOAFFljFgAAAAOElEQVR4nAXBBQKAMAwAsZu2He4O//8lCa7uqjcDqW2+WxUkDruftkxyJkd/rUQLNi4+gJTynLP+Os4CQFde+H4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:6}})),{props:{srcSet:X}}=Q,H=(0,o._)(Q.props,["srcSet"]),J=()=>{let[e,t]=(0,m.useState)(null),{closeAuthModal:s}=(0,x.Fp)(),{events:r}=(0,u.useRouter)(),n=q.Y.getItem(a.z);(0,m.useEffect)(()=>{n&&(t(n),q.Y.removeItem(a.z))},[n]);let i="/recipes".concat(e?"/".concat(e,"?").concat(R.ND,"=true"):"");(0,m.useEffect)(()=>{let e=(e,t)=>{let{shallow:l}=t;l||s()};return r.on("routeChangeComplete",e),()=>{r.off("routeChangeComplete",e)}},[r,s]);let{products:o,annualBenefit:c}=(0,W.oq)(),d=(0,M.Re)({products:o,billingPeriod:"yearly"});return(0,l.jsxs)("div",{className:"relative flex flex-col lg:flex-row",children:[(0,l.jsx)("div",{className:"h-72 bg-red-100 lg:h-auto lg:w-full lg:max-w-1/2 xl:max-w-[643px]",children:(0,l.jsx)("div",{className:"relative mx-auto h-72 max-w-[375px] lg:mx-0 lg:h-full lg:w-full lg:max-w-none",children:(0,l.jsxs)("picture",{children:[(0,l.jsx)("source",{media:"(min-width: ".concat(K.AV.lg,")"),srcSet:O}),(0,l.jsx)("source",{media:"(max-width: ".concat(K.AV.lg,")"),srcSet:X}),(0,l.jsx)(L(),(0,S._)((0,_._)({},H),{alt:Z.alt,className:"object-cover lg:object-contain lg:object-right-top",fill:!0}))]})})}),(0,l.jsx)("div",{className:"flex w-full p-6 lg:w-1/2 lg:px-16 lg:py-16 xl:px-16 xl:py-20",children:(0,l.jsxs)("div",{className:"mx-auto flex w-full max-w-[411px] flex-col space-y-8 lg:mx-0",children:[(0,l.jsxs)("h1",{className:"z-10 text-center text-[22px] font-bold leading-[24px] lg:text-left lg:text-[28px] lg:leading-10",children:["Get"," ",(0,l.jsx)("span",{className:(0,P.Z)("relative whitespace-nowrap",'before:absolute before:left-0 before:top-1/2 before:z-[-1] before:block before:h-4 before:w-full before:bg-red-200 before:content-[""]'),children:"unlimited ad-free recipes"})," ","and more when you subscribe to Tastemade+"]}),(0,l.jsx)("span",{className:"text-center text-h-6 font-bold capitalize text-red-500 lg:text-left",children:"".concat((0,B.bC)(d.trial_days)," Free Trial")}),(0,l.jsxs)("div",{className:"space-y-2 self-center lg:self-start",children:[(0,l.jsx)("h2",{className:"text-sm font-medium leading-[18px]",children:"All Access:"}),(0,l.jsxs)("ul",{className:"max-w-[330px] space-y-2 text-left",children:[V.map(e=>(0,l.jsxs)("li",{className:"flex",children:[(0,l.jsx)(U.J,{icon:"check"}),(0,l.jsx)("span",{className:"ml-2 block",children:e})]},e)),c&&(0,l.jsxs)("li",{className:"flex font-bold",children:[(0,l.jsx)(U.J,{icon:"star"}),(0,l.jsx)("span",{className:"ml-2 block",children:c.description})]},c.id)]})]}),(0,l.jsx)(D.Q,{href:(0,G.Q2)((0,I.$E)("recipe",{query:{[z.MN]:i}})),layoutClassName:"max-w-[174px] self-center lg:self-start",variant:"black",children:"Subscribe Now!"}),(0,l.jsx)(p.z,{layoutClassName:"font-semibold self-center lg:self-start",onClick:()=>s(),variant:"text",children:"Continue without subscribing"})]})})]})},Y=e=>{let{view:t,pathname:s}=e;return"signup"===t&&/^\/recipes/i.test(s)},$=e=>{let{view:t,pathname:s}=e,o=Y({view:t,pathname:s});switch(t){case"login":return{title:a.RN,Component:(0,l.jsx)(n.U,{}),description:a.DW};case"signup":return{title:a.WP,Component:(0,l.jsx)(C.W,{showUpsellAfterAuth:o}),description:a.DW};case"resetPasswordEmail":return{title:"Reset Password",Component:(0,l.jsx)(i.K,{})};case"resetPassword":return{title:"Reset Password",Component:(0,l.jsx)(E,{})};case"impersonation":return{title:"Impersonate User",Component:(0,l.jsx)(r.Z,{}),hideSideBar:!0};case"upsell":return{title:"Get unlimited ad-free recipes and more when you subscribe to Tastemade+",Component:(0,l.jsx)(J,{}),hideSideBar:!0,hideTitle:!0,noPadding:!0,layoutClassName:"w-[95%] md:w-[80%] lg:w-[90%] sm:max-w-[1240px]"}}},ee=e=>{let{mode:t,isMobile:s,provider:l}=e;return s?"login"===t?"Log In With ".concat(l):"Sign Up With ".concat(l):l},et=e=>"/account/impersonate".concat(e&&"?userId=".concat(e))},89048:function(e,t,s){s.d(t,{C:function(){return n}});var l=s(67294),a=s(50259),r=s(79450);let n=()=>{let e=(0,r.l)(),{executeRecaptcha:t}=(0,a.xX)(),s=(0,l.useCallback)(async s=>{if(!e){if(!t)throw Error("recaptcha executed before initialized");await t(s)}},[t,e]);return{isRecaptchaLoaded:e||!!t,executeRecaptcha:s}}},10683:function(e,t,s){s.d(t,{ND:function(){return a},R7:function(){return r},RD:function(){return i},Uo:function(){return n},nl:function(){return l}});let l="/recipes/browse",a="save-recipe",r=12,n=20,i=99},70762:function(e,t,s){s.d(t,{E:function(){return r},w:function(){return n}});var l=s(17931),a=s(60822);let r=e=>a.c4.test(e)?e:"https://".concat(e),n=(e,t)=>{let s=new URL(e,l.sb);return s.origin===l.sb&&((null==t?void 0:t.allowQueryParams)?/^\/(?:[^/?]+\/)*(?:[^/?]+(?:\?[^/]*)?)?$/.test(s.pathname):/^\/(?:[^/?]+\/)*[^/?]+$/.test(s.pathname))}},70493:function(e,t,s){s.d(t,{d:function(){return r}});var l=s(38213),a=s(28477);let r=e=>(0,a.a)("(max-width: ".concat(l.AV.sm,")"),e)},28477:function(e,t,s){s.d(t,{a:function(){return a}});var l=s(67294);let a=(e,t)=>{let[s,a]=(0,l.useState)(null!=t&&!!t.disableSSR&&window.matchMedia(e).matches),[r,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{n(!0)},[]),(0,l.useEffect)(()=>{let t=window.matchMedia(e);t.matches!==s&&a(t.matches);let l=()=>{a(t.matches)};return t.addEventListener?t.addEventListener("change",l):t.addListener(l),()=>{t.removeEventListener?t.removeEventListener("change",l):t.removeListener(l)}},[s,e]),(null==t?void 0:t.disableSSR)?r&&s:s}},38213:function(e,t,s){s.d(t,{AV:function(){return l},O9:function(){return a}});let l={xs:"360px",sm:"640px",md:"768px",lg:"1024px",xl:"1216px","2xl":"1440px",portrait:{raw:"(orientation: portrait) and (max-width: 1023px)"},landscape:{raw:"(orientation: landscape) and (min-width: 641px) and (max-width: 1023px)"},tablet:{raw:"only screen and (max-width: 1023px)"}},a={gray:{DEFAULT:"#767676",100:"#F9F9F9",150:"#F5F5F5",200:"#EDEDED",300:"#CCCCCC",400:"#AAAAAA",500:"#767676",600:"#5E5E5E",700:"#464646",750:"#333333",800:"#262626",900:"#171717"},yellow:{DEFAULT:"#FEE000",100:"#FFFDF2",200:"#FEF9C4",500:"#FEE000",600:"#EACE00"},green:{DEFAULT:"#027D19",100:"#F8FFFA",200:"#E3F5E6",500:"#027D19",600:"#005C11"},red:{DEFAULT:"#D43D1B",100:"#FFF4F0",200:"#FFE3DC",400:"#D43D1B",500:"#E22A00",600:"#BD2301"},blue:{DEFAULT:"#274BD2",100:"#F8FAFF",200:"#E1E8FF",300:"#3591BC",500:"#274BD2",600:"#0F2EA6"},purple:{DEFAULT:"#9D317F",100:"#FFF8FD",200:"#FFF0FA",500:"#9D317F",600:"#780C5A"},black:{DEFAULT:"#000000"},white:{DEFAULT:"#FFFFFF"},orange:{DEFAULT:"#FF925A"}}}}]);