!function(){window.ShopsenseEmbeds=window.ShopsenseEmbeds||{},window.ShopsenseEmbeds.env="development";window.ShopsenseEmbeds.getUtmParams=()=>{const e=new URLSearchParams(window.location.search);if(!e||!e.get("utm_source")){const e=Object.keys(window.ShopsenseEmbeds.trackingData),n={};return e.forEach((e=>{e.includes("utm_")&&(n[e]=window.ShopsenseEmbeds.trackingData[e])})),n}return{utm_source:e.get("utm_source"),utm_medium:e.get("utm_medium"),utm_campaign:e.get("utm_campaign"),utm_term:e.get("utm_term"),utm_content:e.get("utm_content")}};const e=e=>{if(window.ShopsenseEmbeds.utmParams=e||{},Object.values(window.ShopsenseEmbeds.utmParams).length){const e=new amplitude.Identify;for(const[n,t]of Object.entries(window.ShopsenseEmbeds.utmParams))t&&e.set(n,t);window.ShopsenseEmbeds.amplitude.identify(e)}},n=()=>{window.ShopsenseEmbeds.amplitude=window.amplitude||{},window.ShopsenseEmbeds.amplitude.init("8aa35305ab93114884b42f522dc4b18f",{autocapture:!1,includeUtm:!0,trackingOptions:{deviceModel:!1,deviceId:!1,osName:!1,osVersion:!1,os:!1,family:!1,platform:!1,ipAddress:!1}}),window.addEventListener("message",(n=>{e(n.data)})),window.ShopsenseEmbeds.trackingData={session_id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})),ad_id:"",campaign_id:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""},e(window.ShopsenseEmbeds.getUtmParams())};var t={};window.ShopsenseEmbeds.analytics={logEvent:(e,n={})=>{const s=`Embed - ${e}`,o=`${s}${JSON.stringify(n)}`;t[o]||(t[o]=JSON.stringify(n),"production"===window.ShopsenseEmbeds.env&&window.ShopsenseEmbeds.amplitude.logEvent(s,Object.assign({},n,{...window.ShopsenseEmbeds.trackingData,display_id:`${window.ShopsenseEmbeds.trackingData.session_id}-${(new Date).toISOString()}`,referrer_domain:window.location.hostname})))}},document.addEventListener("DOMContentLoaded",n),document.addEventListener("ShopsenseEmbedInjected",n)}();